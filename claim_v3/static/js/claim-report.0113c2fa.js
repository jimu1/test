(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["claim-report"],{"0b75":function(e,t,a){"use strict";a("d323")},"1d76":function(e,t,a){},"256e":function(e,t,a){},"25db":function(e,t,a){"use strict";a("6dbd")},"2d4a":function(e,t,a){},"2f1e":function(e,t,a){},"30a8":function(e,t,a){"use strict";a("77b6")},"3c5f":function(e,t){e.exports="data:image/png;base64,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"},"3ed0":function(e,t,a){"use strict";a("407a")},"407a":function(e,t,a){},4902:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMKADAAQAAAABAAAAMAAAAADbN2wMAAAElElEQVRoBdWabWgURxjH/3O5mJgXXxJjLW1D0mJrRCpUIZYmfflcKIW2ikUUqlFRkERp1WLiilIKbaXQLwqFFlo/tKWlLY1Cq6hgKfpBUBQE03xKDPXtgxrzcrc7fZ45z+ze7t6+XrI3cNzszLNzv//MM8/OzpxAGSb56fy5eJh5H4bcJMqJX/bWdwLGJkj5HnHPZvbEC5Ba3ULocj2xMvgLDG1OiRVA4MsIvI+g3ybgSjO0OZ84AfLg3OcwkT0AIddCImWGdconRoA81PgUxsd6CfID+rj2eKGIGRcgP6lvxLixl1xlO/V4dSGg1/WMCZDa62noFz6CFHsAWe8F6lY/IwLkvro2COM76vEVbmB+yz0nid+G/NhJTUvJ3tqdBH8xDnj+zWkbAYourRRdviV3edWPWL820zICsq+mC5OZy3HDs8iSjoDUmuqgjx4jd3nLb48GtSuZAKnVLkIW/dTrLwWFCmJfEcTYr63U6pdAN06TfZvfe8LaxT4HCL6D4P8mt2kJCxXkvlgFUHx/F7r+Fz1VG4JARLGNTQDF926K7z9QzwdeDkQREMsklvtqe2iyHo4CEvbeyAKU2+R6PrbRDCImkoDchGWfn163MQsMHUYfhUqGD72SNIM45qvnAW98DCxfA4zeBO4N28xCjYB6SOnyn5KGyron6NXmBND06DU4OwF8tRK4O2gREdhv1fKAn7CljPOF8IycrgJaOizwqthW4lXAaxugdMsDJ3hmMnRg+KKNLtAIqFVlCRdmcINn7OMfAv9dsQnwPYnVel43fqUWZtlayRdU0Lt4Ky33K2to0t3Kl/r7Lgb/xy7g/FHHdnwJ4DcpZM4x/GLHVrgwTQ/gLWeAzp1A+2agioLTwClXc0uFJ/wRi7n5wp8L6Z91e76MLKUl/5PLp9p+ZQfw5hdT1265CPDcpOcI5F7A5Y9km3ZjUOXzW4AXecvSlJ6msFfTCFz/01RoykaE55aKClBbH3LoOIXMZtPPOmfvDADNq4CGVmu9m4gY4PmHirtQ9sJugve39SElcGw1MHjWKoCvVm21ulNM8Ny06wioHbMMfiIbeoL4TEYWuPoL8Ew7wC5lTvmRGLlsfcKabVS0cZ+wZtN83nUpIftqP6cDBIpfIVIlbd2v+xl49jX7zeP3gOo59vIQ8NyIowC10ToxNkDuE/7lpJiIQvyQ8NyM8xzgXeIo8NxyZgz4/h3nOcH1+RQBnpuwjYDan5/MXCMBxcNmHsDru9hIRIQn+gf2EeDDhbjgWZzbSESFVx0nblhGIHesY1wiAXZhXj3tVV9BS6iXtwELngeuUKQaOOl1h3e9ECesbqLOpEoAzyj6JHDuS2+oIBZC9D8eAXUamDWG6H5aUpZF0mkB2TLlKlm5oYzgKfykvhHa3aEpAQIby6LfFaS4j4rq/ZxVAtQJuMMhciIFCRiEvU5ot288FqCO7xNJWwCVg+8Rh+7/nq8R6o8TDyZGqED99yBfkbxvchvueRM8M6bUvz6SDa/ThP0a6dlLCuFZQJq2wrs4k5hEywMKMezf/4LiPFKzfuNoAy52SP8DK8Rts2J+XkEAAAAASUVORK5CYII="},"4ae0":function(e,t,a){"use strict";a("6759")},"517e":function(e,t,a){},"610d":function(e,t,a){},"61aa":function(e,t,a){"use strict";a("2d4a")},6534:function(e,t,a){"use strict";a("256e")},6759:function(e,t,a){},"691e":function(e,t,a){"use strict";a("2f1e")},"6dbd":function(e,t,a){},"6f2b":function(e,t,a){e.exports=a.p+"static/img/upload-idcard-btn.805c32b0.jpg"},"73c0":function(e,t,a){},"77b6":function(e,t,a){},"78bc":function(e,t,a){"use strict";a("8314")},"7bb3":function(e,t,a){},8314:function(e,t,a){},"8c68":function(e,t,a){},"951c":function(e,t,a){"use strict";a("a0e1")},"97f3":function(e,t,a){},"9c05":function(e,t,a){},"9c6c":function(e,t,a){"use strict";a("9c05")},a0e1:function(e,t,a){},a372:function(e,t,a){},b241:function(e,t){e.exports="data:image/png;base64,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"},b765:function(e,t,a){},babe:function(e,t,a){},be8a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[1===e.active?a("Apply",{on:{submit:e.onSubmit1}}):e._e(),2===e.active?a("Proxy",{attrs:{stepIndex:e.stepIndex},on:{back:e.onBack2}}):e._e()],1)},o=[],i=a("1da1"),c=(a("96cf"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[1===e.active?a("van-form",{ref:"applyForm",on:{submit:e.onSubmit,failed:e.onFailed}},[a("div",{staticClass:"container",attrs:{id:"scroll-container"}},[a("van-tabs",{attrs:{active:e.step,scrollspy:"",sticky:""},on:{scroll:e.watchScroll},model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("van-tab",{attrs:{title:"就诊信息"}},[[a("applicantForm",{attrs:{title:"就诊信息"}}),a("patientForm",{attrs:{applyForm:e.applyForm,listenChange:e.islistenChange,treamentchange:e.istreamentChange,treamentstatuschange:e.istreamentstatuschange},on:{applyCheck:e.onApplyCheck,changelistenP:e.changelistenLast,changetreamentP:e.changetreamentLast,changetreamentS:e.changetreamentStatusLast}})]],2),a("van-tab",{attrs:{title:"收款信息"}},[a("AccountForm",{attrs:{accountinfo:e.accountList,docunoRadio:e.docunoRadio}})],1)],1)],1),a("div",{staticClass:"footer"},[a("AgreeNotice",{ref:"agreeComp",attrs:{docuno:e.docuno}}),a("div",{staticStyle:{display:"flex",background:"#fff"}},[e.isFromWXXCX?a("van-button",{staticStyle:{"margin-right":"16px"},attrs:{plain:"",color:e.$root.primaryColor,round:"",block:"","native-type":"button"},on:{click:e.onPrePage}},[e._v("取消修改")]):a("van-button",{staticStyle:{"margin-right":"16px","font-size":"16px"},attrs:{plain:"",color:e.$root.primaryColor,round:"",block:"","native-type":"button"},on:{click:function(t){return e.onSaveReportCache(e.docuno)}}},[e._v("暂存")]),a("van-button",{staticClass:"sumitBtn",attrs:{round:"",block:"",type:"info","native-type":"submit",color:e.$root.primaryColor}},[e._v("确认提交")])],1)],1)]):e._e(),2===e.active?a("Signature",{attrs:{index:0},on:{submit:e.onSubmitApply}}):e._e(),3===e.active?a("FormReplace",{on:{submit:function(t){return e.backReload()}}}):e._e(),a("van-dialog",{attrs:{title:"温馨提示","show-cancel-button":"","show-confirm-button":"","confirm-button-text":"就诊人授权"},on:{confirm:e.toPreProxy,cancel:function(e){this.showPreClaimDialog=!1}},model:{value:e.showPreClaimDialog,callback:function(t){e.showPreClaimDialog=t},expression:"showPreClaimDialog"}},[a("div",{staticClass:"desc-title"},[e._v(" 您正在为就诊人代申请预赔，需要就诊人授权后才可继续申请提变理赔 ")]),a("div",{staticClass:"desc-name"},[e._v("授权内容")]),a("ul",{staticStyle:{"margin-top":"3px"}},e._l(e.dialogList,(function(t){return a("li",{key:t,staticClass:"desc-text"},[e._v(" "+e._s(t)+" ")])})),0)])],1)}),s=[],r=a("5530"),l=(a("d3b7"),a("c740"),a("7db0"),a("b0c0"),a("ddb0"),a("2f62")),u=a("9a9c"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"group"},[a("van-cell-group",{attrs:{border:!1}},[a("PatientPicker"),a("div",{staticClass:"line"}),a("van-field",{attrs:{required:"",name:"applyPhone",label:"手机号",type:"number",placeholder:"请输入手机号码(必填)","input-align":"right",maxlength:"11",error:!1,"error-message-align":"right",readonly:e.getReadonly(),rules:[{required:!0,message:"请填写手机号码"},{validator:e.phoneCheck,message:"手机号格式不正确"}]},model:{value:e.applyPhone,callback:function(t){e.applyPhone=t},expression:"applyPhone"}}),a("div",{staticClass:"line"}),a("van-field",{attrs:{required:"",name:"applyEmail",label:"邮箱地址",placeholder:"请输入邮箱地址(必填)","input-align":"right",error:!1,readonly:e.getReadonly(),"error-message-align":"right",rules:[{required:!0,message:"请填写邮箱地址"},{validator:e.emailCheck,message:"邮箱格式不正确"}]},model:{value:e.applyEmail,callback:function(t){e.applyEmail=t},expression:"applyEmail"}}),a("div",{staticClass:"line"})],1)],1)},p=[],m=(a("ac1f"),a("00b4"),a("cf6e")),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-warp"},[a("van-field",{attrs:{readonly:"",required:"",clickable:"","is-link":"",border:!0,name:"applyName",value:e.applyCustomerName,label:"申请人",placeholder:"请选择申请人(必填)","input-align":"right",error:!1,"error-message-align":"right",rules:[{required:!0,message:"请填写申请人"}]},on:{click:function(t){return e.onShow()}}}),a("div",{staticClass:"line"}),a("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[e.columns?a("van-picker",{attrs:{"show-toolbar":"",columns:e.columns},on:{confirm:e.onConfirm,cancel:function(t){e.showPicker=!1}},scopedSlots:e._u([{key:"option",fn:function(t){var a=t.applyCustomerName;return[e._v(" "+e._s(a)+" ")]}}],null,!1,2841131865)}):e._e()],1)],1)},v=[],f=(a("433b"),a("d399")),y=a("ea91"),b=Object(l["a"])("claims"),k=b.mapState,g=b.mapMutations,A={data:function(){return{docuno:this.$route.query.docuno,accidentCustomerName:this.$route.query.accidentCustomerName,isAdultPerson:this.$route.query.adultFlag,columns:[{values:null}],showPicker:!1,patientInfoBox:{}}},computed:Object(r["a"])(Object(r["a"])({},k(["applyInfo"])),{},{applyCustomerName:function(){return this.applyInfo?this.applyInfo.applyCustomerName:""}}),mounted:function(){var e=sessionStorage.getItem("isFirst".concat(this.accidentCustomerNo));e||this.docuno||this.initApplyInfo(),sessionStorage.removeItem("isFirst".concat(this.accidentCustomerNo))},methods:Object(r["a"])(Object(r["a"])({},g(["setApplyInfo","setPatientInfo"])),{},{initApplyInfo:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$loading.show(),!e.docuno){t.next=3;break}return t.abrupt("return");case 3:a={customerNo:e.accidentCustomerNo,customerName:e.accidentCustomerName,adultFlag:e.isAdultPerson},Object(u["T"])(a).then((function(t){e.columns=[{values:t.applyList}],e.patientInfoBox=t,1==e.columns[0].values.length?e.onConfirm(e.columns[0].values):(e.$loading.hide(),e.deleteStore(),e.savePatientInfo(t))})).catch((function(t){e.$loading.hide()}));case 5:case"end":return t.stop()}}),t)})))()},onShow:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.docuno){t.next=2;break}return t.abrupt("return");case 2:if(!(e.columns&&e.columns[0].values>0&&e.columns[0].values.length>0)){t.next=5;break}return e.showPicker=!0,t.abrupt("return");case 5:e.$loading.show(),a={customerNo:e.accidentCustomerNo||Object(y["c"])(),customerName:e.accidentCustomerName,adultFlag:e.isAdultPerson},Object(u["T"])(a).then((function(t){t&&(e.columns=[{values:t.applyList}],e.patientInfoBox=t,e.savePatientInfo(t),t.applyList&&t.applyList.length>0&&(e.showPicker=!0))})).catch((function(e){})).finally((function(){return e.$loading.hide()}));case 8:case"end":return t.stop()}}),t)})))()},onConfirm:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,o,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e[0],a.next=3,t.check(n.applyCustomerNo);case 3:if(o=a.sent,t.$loading.hide(),!o||o.passFlag){a.next=9;break}t.$dialog.confirm({title:"该就诊人存在已报案未提交材料的赔案",message:"1、如历史案件为客户自行报案，则请指导就诊人前往平安健康保险微信小程序完成后续理赔申请操作;\n2、如历史案件为您代为报案，则请前往好助手-理赔记录完成该案件的后续操作",confirmButtonText:"确定",showCancelButton:!1,messageAlign:"left"}).then((function(){})).catch((function(e){})),a.next=38;break;case 9:return Object(y["u"])(n.applyCustomerNo),t.$loading.show(),a.prev=11,i={applyCustomerNo:n.applyCustomerNo,accidentCustomerNo:Object(y["c"])()||t.accidentCustomerNo},a.next=15,Object(u["E"])(i);case 15:if(c=a.sent,t.$loading.hide(),"200"!=(null===c||void 0===c?void 0:c.code)){a.next=32;break}if(c.data){a.next=21;break}return Object(f["a"])("查询关系失败"),a.abrupt("return");case 21:n["maRelation"]=c.data,t.deleteStore(),t.savePatientInfo(t.patientInfoBox),t.setApplyInfo(n),t.$loading.show(),t.getPatientHospitalInfoFn(),t.applyCustomerNoCache(n),t.$loading.hide(),t.showPicker=!1,a.next=33;break;case 32:Object(f["a"])(c.message);case 33:a.next=38;break;case 35:a.prev=35,a.t0=a["catch"](11),t.$loading.hide();case 38:case"end":return a.stop()}}),a,null,[[11,35]])})))()},check:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={applyCustomerNo:e,accidentCustomerNo:t.accidentCustomerNo||Object(y["c"])()},o="",a.prev=2,a.next=5,Object(u["i"])(n);case 5:if(o=a.sent,"200"!=(null===(i=o)||void 0===i?void 0:i.code)){a.next=10;break}return a.abrupt("return",o.data);case 10:Object(f["a"])(o.message);case 11:a.next=15;break;case 13:a.prev=13,a.t0=a["catch"](2);case 15:case"end":return a.stop()}}),a,null,[[2,13]])})))()},savePatientInfo:function(e){var t=e.accidentCustomerName,a=e.accidentCustomerNo,n=e.accidentCustomerPhone,o=e.accidentCustomerIdTypeCode,i=e.accidentCustomerIdNo,c=e.accidentSex;this.setPatientInfo({accidentCustomerName:t,accidentCustomerNo:a,accidentCustomerPhone:n,accidentCustomerIdTypeCode:o,accidentCustomerIdNo:i,accidentSex:c})}})},C=A,N=(a("c98f"),a("2877")),I=Object(N["a"])(C,h,v,!1,null,"924fdcee",null),B=I.exports,w=Object(l["a"])("claims"),x=w.mapState,P=w.mapMutations,O={props:["title"],components:{PatientPicker:B},data:function(){return{}},computed:Object(r["a"])(Object(r["a"])({},x(["applyInfo"])),{},{applyEmail:{set:function(e){this.setEmail(e)},get:function(){return this.$store.state.claims.email}},applyPhone:{set:function(e){this.setPhone(e)},get:function(){var e;return this.$store.state.claims.phone||(null===(e=this.applyInfo)||void 0===e?void 0:e.applyCustomerPhone)}}}),methods:Object(r["a"])(Object(r["a"])({},P(["setPhone","setEmail","setApplyPhone"])),{},{phoneCheck:function(e){var t=/^1\d{10}$/;return t.test(e)},emailCheck:function(e){return Object(m["d"])(e)},getReadonly:function(){return Boolean(this.$route.query.docuno||"")}})},j=O,T=(a("d962"),Object(N["a"])(j,d,p,!1,null,"dffc49ee",null)),S=T.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"group"},[a("van-cell-group",{attrs:{title:e.title,border:!1}},[a("van-field",{attrs:{value:e.patient,readonly:"",required:"",name:"patient",label:"就诊人",placeholder:"请输入就诊人(必填)","input-align":"right",error:!1,"error-message-align":"right",rules:[{required:!0,message:"请填写就诊人"}]}}),e.applyInfo?a("DateItem"):e._e(),a("HospitalItem"),a("accidentTypePickerMul",{attrs:{accidentTypeList:e.accidentTypeList,"label-width":"100",listenChange:e.listenChange},on:{changelisten:e.changel}}),a("TreatmentType",{attrs:{therapyTypeList:e.therapyTypeList,treamentchange:e.treamentchange,treamentstatuschange:e.treamentstatuschange},on:{changetreament:e.changet,changetreaments:e.changes}}),a("DiagnosticMessage")],1)],1)},D=[],L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-field",{staticClass:"my-field",attrs:{name:"treatState",label:"治疗状态",value:e.currentValue,rules:[{required:e.isRequired,message:"请选择治疗状态"}]},scopedSlots:e._u([{key:"input",fn:function(){return[a("ul",e._l(e.list,(function(t,n){return a("li",{key:n,class:e.currentValue==t.code?"active":"",on:{click:function(a){return e.onSelect(t.code)}}},[e._v(" "+e._s(t.name)+" ")])})),0)]},proxy:!0}])})},q=[],$=Object(l["a"])("claims"),_=$.mapState,M=$.mapMutations,E={props:["applyForm"],data:function(){return{list:[{name:"治疗未结束",code:1},{name:"治疗已结束",code:2}]}},watch:{currentValue:function(e){this.applyForm&&this.applyForm.resetValidation(["applyEmail","date","patient","hospitalName","accidentTypeName","treamentTypeName","accountName","bankName","provinceName","cardNo","receiverAddress"])}},computed:Object(r["a"])(Object(r["a"])({},_(["treatmentState"])),{},{currentValue:{set:function(e){this.setTreatmentState(e)},get:function(){return this.treatmentState}}}),methods:Object(r["a"])(Object(r["a"])({},M(["setTreatmentState"])),{},{onSelect:function(e){this.currentValue=e}})},U=E,F=(a("3ed0"),Object(N["a"])(U,L,q,!1,null,"65304412",null)),K=F.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-field",{attrs:{"is-link":"",readonly:"",required:"",clickable:"",name:"date",value:e.value,label:e.title,placeholder:"请选择就诊日期(必填)","input-align":"right",error:!1,"error-message-align":"right",rules:[{required:!0,message:"请填写"+e.title}]},on:{click:function(t){e.showPicker=!0}},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" "+e._s(e.title)),n("img",{staticClass:"selectedIcon",attrs:{src:a("decb")},on:{click:function(t){return t.stopPropagation(),e.showTs()}}})]},proxy:!0}])}),n("div",{staticClass:"line"}),n("div"),n("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[n("van-datetime-picker",{attrs:{value:e.currentDate,"min-date":e.minDate,"max-date":e.maxDate,type:"date"},on:{confirm:e.onConfirm,cancel:function(t){e.showPicker=!1}}})],1)],1)},H=[],V=a("53ca"),Q=a("c1df"),z=a.n(Q),X=Object(l["a"])("claims"),J=X.mapState,W=X.mapMutations,Y=(X.mapGetters,{props:{title:{type:String,default:"就诊日期"}},data:function(){var e=new Date;return{showPicker:!1,minDate:new Date(e.getFullYear()-72,0,1),maxDate:new Date(e.getFullYear(),e.getMonth(),e.getDate())}},computed:Object(r["a"])(Object(r["a"])({},J(["date","dateStr","treatmentState"])),{},{value:function(){return this.dateStr},currentDate:function(){var e=this.date,t=Object(V["a"])(e);return e&&"object"===t?e:e&&"string"===t?new Date(e):new Date}}),methods:Object(r["a"])(Object(r["a"])({},W(["setDate","setDateStr"])),{},{onConfirm:function(e){var t=z()(e).format("YYYY-MM-DD");this.setDate(e),this.setDateStr(t),this.showPicker=!1},showTs:function(){return this.$toast("请根据您就诊发票填就诊日期，就诊日期需在保障期间内"),!1}})}),Z=Y,ee=(a("cda3"),Object(N["a"])(Z,G,H,!1,null,"39f42944",null)),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-field",{attrs:{"is-link":"",readonly:"",required:"",clickable:"",name:"hospitalName",value:e.hospitalName,placeholder:"请选择就诊医院(必填)","input-align":"right",error:!1,"error-message-align":"right",rules:[{required:e.isRequired,message:"请选择医院"}],type:"textarea",rows:"1",autosize:""},on:{click:function(t){e.showPicker=!0},"click-right-icon":function(t){return t.stopPropagation(),e.clear.apply(null,arguments)}},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" 就诊医院"),e.isRequired?e._e():a("span",{staticClass:"optional"},[e._v("(选填)")])]},proxy:!0},{key:"right-icon",fn:function(){return[!e.isRequired&&e.hospitalName?a("van-icon",{attrs:{name:"clear"}}):e._e()]},proxy:!0}])}),a("van-field",{staticStyle:{display:"none"},attrs:{name:"hospitalId",value:e.hospitalId}}),a("div",{staticClass:"line"}),a("van-popup",{style:{height:"70%"},attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("iframe",{staticClass:"iframe",attrs:{src:e.hospitalUrl,frameborder:"0",scrolling:"auto",height:"100%",width:"100vw"}})])],1)},ne=[],oe=(a("99af"),a("f229")),ie=Object(l["a"])("claims"),ce=ie.mapState,se=ie.mapMutations,re=(ie.mapGetters,{data:function(){return{docuno:this.$route.query.docuno,showPicker:!1,hospitalUrl:oe["c"]?"https://helper-".concat(oe["e"],".health.pingan.com/hospital_v3/#/?type=select&token=").concat(Object(y["a"])(),"&unionId=").concat(Object(y["n"])()):"https://helper.health.pingan.com/hospital_v3/#/?type=select&token=".concat(Object(y["a"])(),"&unionId=").concat(Object(y["n"])())}},computed:Object(r["a"])(Object(r["a"])({},ce(["hospital","patientInfo"])),{},{hospitalName:function(){return this.hospital?this.hospital.hospitalName:""},hospitalId:function(){return this.hospital?this.hospital.hospitalId:""}}),methods:Object(r["a"])(Object(r["a"])({},se(["setHospital","setIsEClaim"])),{},{clear:function(){this.setHospital(null)}}),mounted:function(){var e=this;window.addEventListener("message",(function(t){var a="string"===typeof t.data?JSON.parse(t.data):t.data;a.hospitalName&&(e.setHospital(a),e.showPicker=!1),a.close&&(e.showPicker=!1)}),!1)}}),le=re,ue=(a("951c"),Object(N["a"])(le,ae,ne,!1,null,"35526320",null)),de=ue.exports,pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-field",{attrs:{"is-link":"",readonly:"",clickable:"",name:"accidentTypeName",value:e.accidentTypeName,placeholder:"请选择","input-align":"right",error:!1,"error-message-align":"right",rules:[{required:e.isRequired,message:"请选择申请类型"}],type:"textarea",rows:"1",autosize:""},on:{click:e.onShow,"click-right-icon":function(t){return t.stopPropagation(),e.clear.apply(null,arguments)}},scopedSlots:e._u([{key:"label",fn:function(){return[e._v("事故类型"),e.isRequired?e._e():a("span",{staticClass:"optional"},[e._v("(选填)")])]},proxy:!0},{key:"right-icon",fn:function(){return[!e.isRequired&&e.accidentTypeName?a("van-icon",{attrs:{name:"clear"}}):e._e()]},proxy:!0}])}),a("van-action-sheet",{attrs:{actions:e.accidentTypeList},on:{select:e.onSelect},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}})],1)},me=[],he=Object(l["a"])("claims"),ve=he.mapState,fe=he.mapMutations,ye=he.mapGetters,be={name:"accidentTypePicker",props:{accidentTypeList:{type:Array,default:function(){return[]}}},data:function(){return{showPicker:!1}},watch:{},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},ve(["accidentType"])),ye([])),{},{accidentTypeName:function(){var e;return null===(e=this.accidentType)||void 0===e?void 0:e.name}}),methods:Object(r["a"])(Object(r["a"])({},fe(["setAccidentType"])),{},{onShow:function(){this.showPicker=!0},onSelect:function(e){this.setAccidentType(e),this.showPicker=!1},clear:function(){this.setAccidentType(null)}})},ke=be,ge=(a("0b75"),Object(N["a"])(ke,pe,me,!1,null,"72503e1f",null)),Ae=ge.exports,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.patientInfo&&e.patientInfo.accidentCustomerNo&&e.dateStr&&e.therapyTypeList&&e.therapyTypeList.length>0?n("div",[n("van-field",{attrs:{readonly:"",required:"",clickable:"",name:"treamentTypeName",value:e.treamentTypeName,"input-align":"right",error:!1,"error-message-align":"right",rules:[{required:e.isRequired,message:"请选择治疗类型"}]},on:{"click-right-icon":function(t){return t.stopPropagation(),e.clear.apply(null,arguments)}},scopedSlots:e._u([{key:"label",fn:function(){return[e._v("治疗类型")]},proxy:!0}],null,!1,3340123079)}),n("div",{staticClass:"mults"},[e._v("(单选)")]),e.patientInfo&&e.patientInfo.accidentCustomerNo&&e.dateStr&&e.therapyTypeList&&0!==e.therapyTypeList.length?e._e():n("div",{staticClass:"chooseTs"}),e.patientInfo&&e.patientInfo.accidentCustomerNo&&e.dateStr?n("div",{staticClass:"listBox",class:{newM:e.treamentchange}},e._l(e.therapyTypeList,(function(t,o){return n("div",{key:o,staticClass:"listItem",class:{selectedListItem:e.currentIndexName===t.name},on:{click:function(a){return e.selectItem(t)}}},[e._v(" "+e._s(t.name)+" "),e.currentIndexName===t.name?n("img",{staticClass:"selectedIcon",attrs:{src:a("4902")}}):e._e()])})),0):e._e(),e.treamentTypeName&&"门诊"!=e.treamentTypeName?n("van-field",{attrs:{readonly:"",required:"",clickable:"",name:"accidentStatusName",value:e.accidentStatusName,"input-align":"right",error:!1,"error-message-align":"right",rules:[{required:e.isRequired,message:"请选择治疗状态"}]},on:{"click-right-icon":function(t){return t.stopPropagation(),e.clear.apply(null,arguments)}},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" 治疗状态 ")]},proxy:!0}],null,!1,2191292352)}):e._e(),e.treamentTypeName&&"门诊"!=e.treamentTypeName?n("div",[n("div",{staticClass:"mults",staticStyle:{"margin-top":"15px"}},[e._v("(单选)")]),e.patientInfo&&e.patientInfo.accidentCustomerNo&&e.dateStr&&e.therapyTypeList&&0!==e.therapyTypeList.length?e._e():n("div",{staticClass:"chooseTs"}),e.patientInfo&&e.patientInfo.accidentCustomerNo&&e.dateStr?n("div",{staticClass:"listBox",class:{newM:e.treamentstatuschange}},e._l(e.accidentStatusList,(function(t,o){return n("div",{key:o,staticClass:"listItem",class:{selectedListItem:e.currentStatusName===t.name},on:{click:function(a){return e.selectStatusItem(t)}}},[e._v(" "+e._s(t.name)+" "),e.currentStatusName===t.name?n("img",{staticClass:"selectedIcon",attrs:{src:a("4902")}}):e._e()])})),0):e._e()]):e._e(),n("div",{staticClass:"line"})],1):e._e()},Ne=[],Ie=Object(l["a"])("claims"),Be=Ie.mapState,we=Ie.mapMutations,xe=(Ie.mapGetters,{name:"treatmentType",props:{therapyTypeList:{type:Array,default:function(){return[]}},treamentchange:{type:Boolean,default:!1},treamentstatuschange:{type:Boolean,default:!1}},mounted:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},data:function(){return{showPicker:!1,currentIndexName:"",currentStatusName:"",accidentStatusList:[{code:"0",name:"准备住院"},{code:"1",name:"住院中"},{code:"2",name:"已出院"}]}},watch:{},computed:Object(r["a"])(Object(r["a"])({},Be(["treamentType","patientInfo","accidentStatus"])),{},{treamentTypeName:function(){var e,t;return this.currentIndexName=null===(e=this.treamentType)||void 0===e?void 0:e.name,null===(t=this.treamentType)||void 0===t?void 0:t.name},accidentStatusName:function(){var e;return this.currentStatusName=null===(e=this.accidentStatus)||void 0===e?void 0:e.name,this.currentStatusName}}),methods:Object(r["a"])(Object(r["a"])({},we(["setTreamentType","setAccidentStatus"])),{},{onSelect:function(e){this.setTreamentType(e),this.showPicker=!1},clear:function(){this.setTreamentType(null)},clearStatus:function(){this.setAccidentStatus(null)},selectItem:function(e){this.clear(),"门诊"===e.name&&this.clearStatus(),this.$emit("changetreament"),this.currentIndexName=e.name,this.setTreamentType(e)},selectStatusItem:function(e){this.clearStatus(),this.$emit("changetreaments"),this.currentStatusName=e.name,this.setAccidentStatus(e)}})}),Pe=xe,Oe=(a("f06d"),Object(N["a"])(Pe,Ce,Ne,!1,null,"5ad0bf26",null)),je=Oe.exports,Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-field",{staticStyle:{"flex-direction":"column"},attrs:{type:"textarea",rows:"2",name:"diagnosticMessage",label:"病情描述",placeholder:"请描述患病情况、事故经过、诊疗过程（包含确诊时间、确诊医院、确诊疾病、确诊情况等）","input-align":"left",error:!1,"error-message-align":"right",maxlength:"200","show-word-limit":"",rules:[{required:!1,message:"请输入诊断信息"}]},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})},Se=[],Re=Object(l["a"])("claims"),De=Re.mapState,Le=Re.mapMutations,qe={data:function(){return{}},computed:Object(r["a"])(Object(r["a"])({},De(["diagnosticMessage"])),{},{value:{set:function(e){this.setDiagnosticMessage(e)},get:function(){return this.diagnosticMessage}}}),methods:Object(r["a"])({},Le(["setDiagnosticMessage"]))},$e=qe,_e=(a("c3bc"),Object(N["a"])($e,Te,Se,!1,null,"39bc866e",null)),Me=_e.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-field",{attrs:{name:"preMoney",label:"住院押金",placeholder:"10000元以上",type:"number","input-align":"right",clearable:"",error:!1,"error-message-align":"right",rules:[{required:!0,message:"请填写住院押金"},{validator:e.checkPreMoney1,message:"金额须大于0，最多支持两位小数"},{validator:e.checkPreMoney2,message:"押金金额需1万以上"}]},on:{blur:function(t){return e.$emit("blur")}},scopedSlots:e._u([{key:"right-icon",fn:function(){return[e._v(" 元")]},proxy:!0}]),model:{value:e.preMoneyInput,callback:function(t){e.preMoneyInput=t},expression:"preMoneyInput"}})},Ue=[],Fe=Object(l["a"])("claims"),Ke=Fe.mapState,Ge=Fe.mapMutations,He={data:function(){return{}},computed:Object(r["a"])(Object(r["a"])({},Ke(["preMoney"])),{},{preMoneyInput:{set:function(e){this.setPreMoney(e)},get:function(){return this.preMoney}}}),methods:Object(r["a"])(Object(r["a"])({},Ge(["setPreMoney"])),{},{checkPreMoney1:function(e){return Object(m["k"])(e)},checkPreMoney2:function(e){return e>1e4}})},Ve=He,Qe=(a("691e"),Object(N["a"])(Ve,Ee,Ue,!1,null,"4aeb35d2",null)),ze=Qe.exports,Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-field",{attrs:{"is-link":"",readonly:"",clickable:"",label:"收款信息",name:"hasAccount",value:e.hasAccount?"已补充":void 0,placeholder:"请补充银行账户信息","input-align":"right",error:!1,"error-message-align":"right",rules:[{required:!0,message:"请补充银行账户信息"}]},on:{click:function(t){e.showPicker=!0}}}),a("van-popup",{attrs:{position:"bottom",round:"",closeable:""},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}})],1)},Je=[],We=Object(l["a"])("claims"),Ye=We.mapState,Ze=We.mapMutations,et={components:{},data:function(){return{showPicker:!1}},computed:Object(r["a"])({},Ye(["hasAccount"])),methods:Object(r["a"])(Object(r["a"])({},Ze(["setHasAccount"])),{},{onSubmit:function(){this.showPicker=!1}}),mounted:function(){}},tt=et,at=(a("61aa"),Object(N["a"])(tt,Xe,Je,!1,null,"3c98593c",null)),nt=at.exports,ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.patientInfo&&e.patientInfo.accidentCustomerNo&&e.dateStr&&e.accidentTypeList&&e.accidentTypeList.length>0?n("div",[n("van-field",e._b({attrs:{readonly:"",required:"","input-align":"right",clickable:"",name:"accidentTypeName",value:e.accidentType?e.accidentType.name:"",error:!1,"error-message-align":"right",rules:[{required:e.isRequired,message:"请选择事故类型"}],type:"textarea",rows:"1",autosize:""},on:{"click-right-icon":function(t){return t.stopPropagation(),e.clear.apply(null,arguments)}},scopedSlots:e._u([{key:"label",fn:function(){return[e._v("事故类型")]},proxy:!0}],null,!1,3037783461)},"van-field",e.$attrs,!1)),e.patientInfo&&e.patientInfo.accidentCustomerNo&&e.dateStr?n("div",{staticClass:"mults"},[e._v(" (多选) ")]):e._e(),e.patientInfo&&e.patientInfo.accidentCustomerNo&&e.dateStr&&e.accidentTypeList&&0!==e.accidentTypeList.length?e._e():n("div",{staticClass:"chooseTs"}),e.patientInfo&&e.patientInfo.accidentCustomerNo&&e.dateStr?n("div",{staticClass:"listBox",class:{newM:e.listenChange}},e._l(e.accidentTypeList,(function(t,o){return n("div",{key:o,staticClass:"listItem",class:{selectedListItem:e.checkboxValue&&e.checkboxValue.includes(t.code)},on:{click:function(a){return e.selectItem(t)}}},[e._v(" "+e._s(t.name)+" "),e.checkboxValue&&e.checkboxValue.includes(t.code)?n("img",{staticClass:"selectedIcon",attrs:{src:a("4902")}}):e._e()])})),0):e._e(),n("div",{staticClass:"line"})],1):e._e()},it=[],ct=(a("1276"),a("caad"),a("2532"),a("a434"),a("a15b"),a("d81d"),a("4de4"),Object(l["a"])("claims")),st=ct.mapState,rt=ct.mapMutations,lt=(ct.mapGetters,{name:"VanFieldCheckbox",model:{prop:"selectValue"},props:{accidentTypeList:{type:Array,default:function(){return[]}},listenChange:{type:Boolean,default:!1}},computed:Object(r["a"])(Object(r["a"])({},st(["accidentType","patientInfo"])),{},{checkboxName:{get:function(){var e,t=[];return null!==(e=this.accidentType)&&void 0!==e&&e.name&&(t=this.accidentType.name.split(",")),t},set:function(){}},checkboxValue:{get:function(){var e,t=[];return null!==(e=this.accidentType)&&void 0!==e&&e.code&&(t=this.accidentType.code.split(",")),t},set:function(){}}}),data:function(){return{show:!1}},watch:{show:function(e){e&&(this.checkboxValue=[])}},methods:Object(r["a"])(Object(r["a"])({},rt(["setAccidentType"])),{},{selectItem:function(e){this.$emit("changelisten"),this.checkboxName.length>0&&this.checkboxName.includes(e.name)?this.checkboxName.length>1?(this.checkboxName.splice(this.checkboxName.findIndex((function(t){return t===e.name})),1),this.checkboxValue.splice(this.checkboxValue.findIndex((function(t){return t===e.code})),1)):this.clear():(this.checkboxName.push(e.name),this.checkboxValue.push(e.code)),this.checkboxName.length>0&&this.setAccidentType({name:this.checkboxName.join(","),code:this.checkboxValue.join(",")})},clear:function(){this.checkboxValue=[],this.checkboxName=[],this.setAccidentType(null)},selectedOptions:function(e,t){var a=t.filter((function(t){return e.includes(t.code)})).map((function(e){return e.name}));return a}})}),ut=lt,dt=(a("9c6c"),Object(N["a"])(ut,ot,it,!1,null,"79136506",null)),pt=dt.exports,mt=Object(l["a"])("claims"),ht=mt.mapState,vt=mt.mapMutations,ft={name:"patientForm",props:["applyForm","title","listenChange","treamentchange","treamentstatuschange"],components:{TreatmentState:K,DateItem:te,HospitalItem:de,AccidentType:Ae,TreatmentType:je,DiagnosticMessage:Me,Deposit:ze,AccountItem:nt,accidentTypePickerMul:pt},data:function(){var e=this.$route.query.docuno;return{query:this.$router,treatState:1,stepper:1,therapyTypeList:[],accidentTypeList:[],docuno:e,value2:[]}},computed:Object(r["a"])(Object(r["a"])({},ht(["applyInfo","dateStr","patientInfo","accidentCustomerName","accidentCustomerNo"])),{},{patient:{get:function(){var e;return this.accidentCustomerName||(null===(e=this.patientInfo)||void 0===e?void 0:e.accidentCustomerName)}}}),watch:{dateStr:{handler:function(e){this.getTypesParent()}}},mounted:function(){this.getTypesParent()},methods:Object(r["a"])(Object(r["a"])({},vt(["setIsAdultPerson"])),{},{changel:function(){this.$emit("changelistenP")},changet:function(){this.$emit("changetreamentP")},changes:function(){this.$emit("changetreamentS")},getTypesParent:function(){this.getTypes()},getPreTypes:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.patientInfo&&e.dateStr&&e.preMoney)){t.next=8;break}return a={accidentCustomerNo:e.patientInfo.accidentCustomerNo,accidentTime:e.dateStr,accidentDeposit:e.preMoney,applyType:"02"},e.$loading.show(),t.next=5,Object(u["e"])(a);case 5:n=t.sent,e.$loading.hide(),n&&(e.$emit("applyCheck",n),n.passFlag||e.$toast(n.reason),e.setIsAdultPerson(null===n||void 0===n?void 0:n.isAdultPerson),e.accidentTypeList=null===n||void 0===n?void 0:n.accidentTypeList);case 8:case"end":return t.stop()}}),t)})))()},getTypes:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.patientInfo||!e.dateStr){t.next=8;break}return a={accidentCustomerNo:e.patientInfo.accidentCustomerNo||e.accidentCustomerNo,applyCustomerNo:e.applyInfo.applyCustomerNo,accidentTime:e.dateStr,maRelation:e.applyInfo.maRelation},e.$loading.show(),t.next=5,Object(u["d"])(a);case 5:n=t.sent,e.$loading.hide(),n&&(e.$emit("applyCheck",n),"false"===n.passFlag?(e.$toast(n.reason),e.therapyTypeList=[],e.accidentTypeList=[]):(e.setIsAdultPerson(n.isAdultPerson),e.therapyTypeList=n.therapyTypeList,e.accidentTypeList=n.accidentTypeList));case 8:case"end":return t.stop()}}),t)})))()},confirm:function(e,t){this.value3=t}})},yt=ft,bt=(a("e73c"),Object(N["a"])(yt,R,D,!1,null,"5ba6704a",null)),kt=bt.exports,gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.noticeList.length>0?a("div",{staticClass:"page"},[a("van-field",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{name:"agree",label:"复选框-隐藏"},scopedSlots:e._u([{key:"input",fn:function(){return[a("van-checkbox",{attrs:{shape:"square"},model:{value:e.agree,callback:function(t){e.agree=t},expression:"agree"}})]},proxy:!0}],null,!1,1642222595)}),a("van-checkbox",{attrs:{"checked-color":e.$root.primaryColor,shape:"square"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[a("div",{ref:"agree",staticClass:"box"},[e._v(" 我已阅读并同意 "),e._l(e.noticeList,(function(t,n){return a("a",{key:t.materialCode,staticStyle:{color:"#10aeff"},on:{click:function(a){return a.stopPropagation(),e.showNotice(n,t.materialName)}}},[e._v(e._s("《"+t.materialName+"》"))])}))],2)]),a("van-action-sheet",{staticClass:"noticeActionSheet",attrs:{"cancel-text":"我已阅读","close-on-click-action":"",closeable:!1},on:{cancel:e.onCancel},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("van-tabs",{staticStyle:{"font-size":"14px"},attrs:{animated:"",color:e.$root.primaryColor,scrollspy:!0,"swipe-threshold":2},on:{click:e.onTabClick},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},e._l(e.noticeList,(function(t){return a("van-tab",{key:t.materialCode,attrs:{title:t.materialName}},["PDF"===t.materialAddress[0].extension||"pdf"===t.materialAddress[0].extension?a("div",[a("pdf-demo",{attrs:{src:t.materialAddress[0].address}})],1):e.pictureTypeList.includes(t.materialAddress[0].extension)?a("img",{staticClass:"pdf-img",attrs:{src:t.materialAddress[0].address,alt:""}}):e._e()])})),1)],1)],1):e._e()},At=[],Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pdf-preview"},[a("div",{staticClass:"pdf-wrap"},[a("pdf",{staticClass:"pdf-set",style:e.scaleFun,attrs:{src:e.src,page:e.state.pageNum}})],1),a("div",{staticClass:"pdf_box"},[a("div",{staticClass:"page-tool"},[a("div",{staticClass:"page-tool-item",on:{click:e.lastPage}},[e._v("上一页")]),a("div",{staticClass:"page-tool-item",on:{click:e.nextPage}},[e._v("下一页")]),a("div",{staticClass:"page-tool-item"},[e._v(" "+e._s(e.state.pageNum)+"/"+e._s(e.state.numPages)+" ")]),a("div",{staticClass:"page-tool-item",on:{click:e.pageZoomOut}},[e._v("放大")]),a("div",{staticClass:"page-tool-item",on:{click:e.pageZoomIn}},[e._v("缩小")])])])])},Nt=[],It=a("858e"),Bt={name:"pdfDemo",props:["src"],components:{pdf:It["a"]},data:function(){return{state:{pageNum:1,scale:1,numPages:0}}},mounted:function(){this.getPageNum()},computed:{scaleFun:function(){return"transform:scale(".concat(this.state.scale,")")}},methods:{getPageNum:function(){var e=this,t=It["a"].createLoadingTask(this.src);t.promise.then((function(t){e.state.numPages=t.numPages})).catch((function(e){}))},lastPage:function(){this.state.pageNum>1&&(this.state.pageNum-=1)},nextPage:function(){this.state.pageNum<this.state.numPages&&(this.state.pageNum+=1)},pageZoomOut:function(){this.state.scale<2&&(this.state.scale+=.1)},pageZoomIn:function(){this.state.scale>1&&(this.state.scale-=.1)}}},wt=Bt,xt=(a("f989"),Object(N["a"])(wt,Ct,Nt,!1,null,"461b31bc",null)),Pt=xt.exports,Ot=Object(l["a"])("claims"),jt=Ot.mapState,Tt=Ot.mapMutations,St={name:"AgreeNotice",components:{pdfDemo:Pt},data:function(){return{showPicker:!1,active:0,noticeList:[],pictureTypeList:["JPG","jpg","PNG","png","JPEG","jpeg"]}},computed:Object(r["a"])(Object(r["a"])({},jt(["isAgree"])),{},{checked:{set:function(e){this.setIsAgree(e)},get:function(){return this.isAgree}},agree:function(){return this.isAgree}}),mounted:function(){this.getAgreeNotice()},methods:Object(r["a"])(Object(r["a"])({},Tt(["setIsAgree"])),{},{getAgreeNotice:function(){var e=this,t={channel:"EKB-MINI"};Object(u["q"])(t).then((function(t){if(t&&null!==t&&void 0!==t&&t.imageInfoList){var a=t.imageInfoList;a.length>0?e.noticeList=a:e.checked=!0}else e.checked=!0})).catch((function(e){}))},showNotice:function(e){this.checked=!0,this.showPicker=!0,this.active=e},onTabClick:function(e,t){},onCancel:function(){}})},Rt=St,Dt=(a("6534"),Object(N["a"])(Rt,gt,At,!1,null,"ed249218",null)),Lt=Dt.exports,qt=a("9d31"),$t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-form",{ref:"replaceForm",on:{submit:e.onSubmit}},[a("div",{staticClass:"container"},[a("van-tabs",{attrs:{active:"0",scrollspy:"",sticky:""}},[a("van-tab",{attrs:{title:"就诊信息"}},[[a("van-cell-group",{attrs:{border:!1}},[a("van-field",{attrs:{required:"",disabled:"",label:"申请人","input-align":"right"},model:{value:e.applyName,callback:function(t){e.applyName=t},expression:"applyName"}}),a("div",{staticClass:"line"}),a("van-field",{attrs:{required:"",disabled:"",label:"手机号","input-align":"right"},model:{value:e.applyPhone,callback:function(t){e.applyPhone=t},expression:"applyPhone"}}),a("div",{staticClass:"line"}),a("van-field",{attrs:{required:"",disabled:"",label:"邮箱地址","input-align":"right"},model:{value:e.applyEmail,callback:function(t){e.applyEmail=t},expression:"applyEmail"}}),a("div",{staticClass:"line"}),a("van-field",{attrs:{required:"",disabled:"",value:e.name,label:"就诊人","input-align":"right"}}),a("div",{staticClass:"line"}),a("van-field",{attrs:{disabled:"",required:"",value:e.value,label:"就诊日期","input-align":"right"}}),a("div",{staticClass:"line"}),a("van-field",{attrs:{disabled:"",required:"",value:e.hospitalName,label:"就诊医院","input-align":"right"}}),a("div",{staticClass:"line"}),a("van-field",{attrs:{disabled:"",required:"",value:e.accidentList,label:"就诊类型","input-align":"right"}}),a("div",{staticClass:"line"}),a("van-field",{attrs:{disabled:"",required:"",value:e.treamentList,label:"治疗类型","input-align":"right"}}),a("div",{staticClass:"line"}),a("van-field",{attrs:{type:"textarea",rows:"2",disabled:"",label:"病情描述",placeholder:"请描述患病情况、事故经过、诊疗过程（包含确诊时间、确诊医院、确诊疾病、确诊情况等）","input-align":"left",maxlength:"200","show-word-limit":""},model:{value:e.valuedetail,callback:function(t){e.valuedetail=t},expression:"valuedetail"}}),a("div",{staticClass:"line"}),a("van-field",{attrs:{disabled:"",required:"",value:e.currencyName,label:"支付币种","input-align":"right"}}),a("div",{staticClass:"line"}),a("van-field",{attrs:{disabled:"",required:"",value:"银行卡",label:"收款方式","input-align":"right"}}),a("div",{staticClass:"line"}),a("van-field",{attrs:{disabled:"",required:"",value:e.accountName,label:"账户名","input-align":"right"}}),a("div",{staticClass:"line"}),a("van-field",{attrs:{disabled:"",required:"",value:e.bankName,label:"银行名称","input-align":"right"}}),a("div",{staticClass:"line"}),a("van-field",{attrs:{disabled:"",required:"",value:e.provinceName,label:"开户省/市","input-align":"right"}}),a("div",{staticClass:"line"}),a("van-field",{attrs:{disabled:"",required:"",value:e.bankCardNo,label:"银行卡号","input-align":"right"}}),a("div",{staticClass:"line"})],1)]],2),a("van-tab",{attrs:{title:"收款信息"}})],1)],1)])],1)},_t=[],Mt=Object(l["a"])("claims"),Et=Mt.mapState,Ut=Mt.mapMutations,Ft={name:"applyreplace",components:{},data:function(){return{replaceForm:null}},computed:Object(r["a"])(Object(r["a"])({},Et(["applyInfo","dateStr","hospital","diagnosticMessage","accidentType","treamentType","currencyName","accountName","bankName","provinceName","bankCardNo"])),{},{applyName:{get:function(){var e;return null===(e=this.applyInfo)||void 0===e?void 0:e.applyCustomerName}},applyEmail:{get:function(){return this.$store.state.claims.email}},applyPhone:{get:function(){var e;return this.$store.state.claims.phone||(null===(e=this.applyInfo)||void 0===e?void 0:e.applyCustomerPhone)}},name:function(){return this.patientInfo?this.patientInfo.accidentCustomerName:""},value:function(){return this.dateStr},hospitalName:function(){return this.hospital?this.hospital.hospitalName:""},valuedetail:{set:function(e){},get:function(){return this.diagnosticMessage}},accidentList:function(){var e;return null===(e=this.accidentType)||void 0===e?void 0:e.name},treamentList:function(){var e;return null===(e=this.treamentType)||void 0===e?void 0:e.name}}),beforeMount:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:document.title="在线理赔",e.replaceForm=e.$refs.replaceForm;case 2:case"end":return t.stop()}}),t)})))()},methods:Object(r["a"])(Object(r["a"])({},Ut(["setAccountName","setIsMount"])),{},{onSubmit:function(){this.$toast("报案失败，请您重新报案"),this.$emit("submit")}})},Kt=Ft,Gt=(a("d572"),Object(N["a"])(Kt,$t,_t,!1,null,"7b4804ca",null)),Ht=Gt.exports,Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"group",staticStyle:{"margin-top":"10px !important"}},[a("van-cell-group",{attrs:{border:!1}},[a("CurrencyType",{on:{change:e.onCurrentTypeChange}}),a("SelectCards",{attrs:{accountinfo:e.accountinfo,docunoRadio:e.docunoRadio}})],1)],1)},Qt=[],zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-field",{attrs:{readonly:"",clickable:"",required:"",name:"currencyTypeName",value:e.currencyName,label:"支付币种",placeholder:"请选择","input-align":"right",isLink:"",error:!1,"error-message-align":"right",rules:[{required:e.isRequired,message:"请选择支付币种"}]},on:{click:function(t){return e.onShow()},"click-right-icon":function(t){return t.stopPropagation(),e.clear.apply(null,arguments)}},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" 支付币种"),e.isRequired?e._e():a("span",{staticClass:"optional"},[e._v("(选填)")])]},proxy:!0},{key:"right-icon",fn:function(){return[!e.isRequired&&e.currencyName?a("van-icon",{attrs:{name:"clear"}}):e._e()]},proxy:!0}])}),a("van-field",{staticStyle:{display:"none"},attrs:{name:"currencyType",value:e.currency}}),a("div",{staticClass:"line"}),a("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.columns},on:{confirm:e.onConfirm,cancel:function(t){e.showPicker=!1}},scopedSlots:e._u([{key:"option",fn:function(t){var a=t.currencyName;return[e._v(" "+e._s(a)+" ")]}}])})],1)],1)},Xt=[],Jt=a("2909"),Wt={currency:"RMB",currencyName:"人民币"},Yt=Object(l["a"])("claims"),Zt=Yt.mapState,ea=Yt.mapMutations,ta={data:function(){return{columns:[],showPicker:!1,list:null}},computed:Object(r["a"])({},Zt(["currency","currencyName","isEnglishCase"])),methods:Object(r["a"])(Object(r["a"])({},ea(["setCurrencyName","setCurrency","setIsEnglishCase"])),{},{onShow:function(){this.showPicker=!0,this.list||this.getCurrencyTypeListIO()},getCurrencyTypeListIO:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["t"])({systemCode:"MCORE"});case 2:e.list=t.sent,e.columns=[{values:[Wt].concat(Object(Jt["a"])(e.list))}];case 4:case"end":return t.stop()}}),t)})))()},onConfirm:function(e){this.setCurrency(e[0].currency),this.setCurrencyName(e[0].currencyName);var t="人民币"===e[0].currencyName;this.setIsEnglishCase(t),this.showPicker=!1,this.$emit("change",e[0].currencyName)},clear:function(){this.setCurrency(""),this.setCurrencyName("")}})},aa=ta,na=(a("c0f4"),Object(N["a"])(aa,zt,Xt,!1,null,"dec0afc0",null)),oa=na.exports,ia=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-field",{attrs:{required:"",disabled:!0},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" 选择银行卡 "),e.accountinfo.length>3&&e.isAll?n("div",{staticClass:"showAllCardsBtn",on:{click:e.openAll}},[e._v(" 展开全部 ")]):e._e()]},proxy:!0}])}),e.accountinfo.length>0?n("div",{staticClass:"cardsListBox"},[n("van-radio-group",{model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e.localBcInfo&&e.localBcInfo.isDone||e.isDoneTs?n("van-radio",{attrs:{name:9999},on:{click:e.changeBank},scopedSlots:e._u([{key:"default",fn:function(){return[n("div",{staticClass:"top"},[n("img",{attrs:{src:a("b241")}}),n("span",{staticClass:"cardName"},[e._v(e._s(e.localBcInfo.bankName))]),n("span",{staticClass:"cardNum"},[e._v(e._s(e.localBcInfo.payeeAccount))])]),n("div",{staticClass:"bottom"},[n("span",[e._v("账户名: "+e._s(e.localBcInfo.payeeName))]),n("img",{attrs:{src:a("e344")},on:{click:function(t){return t.stopPropagation(),e.editLocal.apply(null,arguments)}}})])]},proxy:!0}],null,!1,3553774318)}):e._e(),e._l(e.showList,(function(t,a){return n("van-radio",{key:a,attrs:{name:a},on:{click:function(a){return e.changeBank(t)}},scopedSlots:e._u([{key:"default",fn:function(){return[n("div",{staticClass:"top"},[n("span",{staticClass:"cardName"},[e._v(e._s(t.claimHisAccountRecordRespDto.bankName))]),n("span",{staticClass:"cardNum"},[e._v("****"+e._s(t.claimHisAccountRecordRespDto.payeeAccount.slice(-4)))])]),n("div",{staticClass:"bottom"},[n("span",[e._v("账户名: "+e._s(t.claimHisAccountRecordRespDto.payeeName))])])]},proxy:!0}],null,!0)})}))],2)],1):n("div",{staticClass:"cardsListBox"},[n("van-radio-group",{model:{value:e.onlyradio,callback:function(t){e.onlyradio=t},expression:"onlyradio"}},[e.localBcInfo&&e.localBcInfo.isDone||e.isDoneTs?n("van-radio",{attrs:{name:9999},on:{click:e.changeBank},scopedSlots:e._u([{key:"default",fn:function(){return[n("div",{staticClass:"top"},[n("img",{attrs:{src:a("b241")}}),n("span",{staticClass:"cardName"},[e._v(e._s(e.localBcInfo.bankName))]),n("span",{staticClass:"cardNum"},[e._v(e._s(e.localBcInfo.payeeAccount))])]),n("div",{staticClass:"bottom"},[n("span",[e._v("账户名: "+e._s(e.localBcInfo.payeeName))]),n("img",{attrs:{src:a("e344")},on:{click:function(t){return t.stopPropagation(),e.editLocal.apply(null,arguments)}}})])]},proxy:!0}],null,!1,3553774318)}):e._e()],1)],1),e.localBcInfo&&e.localBcInfo.isDone?e._e():n("div",{staticClass:"btnBox",on:{click:function(t){e.showPicker=!e.showPicker}}},[n("img",{attrs:{src:a("3c5f")}}),n("span",{staticClass:"addTitle"},[e._v("新增银行卡")])]),n("div",{staticClass:"line"}),n("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[n("div",{staticClass:"head"},[n("span",{on:{click:function(t){return e.cancelBank()}}},[e._v("返回")]),e._v(" 新增银行卡 ")]),n("van-form",{ref:"localForm",on:{submit:e.localSubmit,failed:e.onFailed}},[n("div",{staticClass:"group",staticStyle:{"margin-top":"10px !important"}},[n("van-cell-group",{attrs:{border:!1}},[n("van-field",{attrs:{readonly:"",required:"",value:"银行卡",name:"localcard",label:"收款方式","input-align":"right",error:!1,"error-message-align":"right"}}),n("div",{staticClass:"line"}),n("van-field",{attrs:{required:"",name:"localpayName",label:"账户名",placeholder:"请输入","input-align":"right",error:!1,"error-message-align":"right",rules:[{required:e.isRequired,message:"请填写账户名"}],autocomplete:"off"},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" 账户名"),e.isRequired?e._e():n("span",{staticClass:"optional"},[e._v("(选填)")])]},proxy:!0}]),model:{value:e.localpayName,callback:function(t){e.localpayName=t},expression:"localpayName"}}),n("div",{staticClass:"line"}),"人民币"===e.currencyName?n("BankPicker"):e._e(),"人民币"!==e.currencyName?n("BankPickerForeign"):e._e(),"人民币"===e.currencyName?n("BankProvincePicker"):e._e(),n("van-field",{attrs:{type:"digit",name:"localcardNo",required:"",label:"银行卡号",placeholder:"请输入","input-align":"right",error:!1,"error-message-align":"right",rules:[{required:e.isRequired,message:"请填写银行卡号"},{validator:e.checkBankNo,message:"银行卡号格式不正确"}]},on:{input:e.identifyBankname},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" 银行卡号"),e.isRequired?e._e():n("span",{staticClass:"optional"},[e._v("(选填)")])]},proxy:!0}]),model:{value:e.localcardNo,callback:function(t){e.localcardNo=t},expression:"localcardNo"}},["人民币"===e.currencyName?n("template",{slot:"right-icon"},[n("van-uploader",{attrs:{"after-read":e.afterRead,"before-read":e.beforeRead}},[n("van-icon",{attrs:{name:"photograph"}})],1)],1):e._e()],2),n("div",{staticClass:"line"}),"人民币"!==e.currencyName?n("van-field",{attrs:{clearable:"",type:"textarea",rows:"2",required:"",name:"localreceiverAddress",label:"收款人地址",placeholder:"街道、小区、楼牌号等",error:!1,"input-align":"right","error-message-align":"right",maxlength:"200","show-word-limit":"",rules:[{required:e.isRequired,message:"请输入收款人地址"}]},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" 收款人地址"),e.isRequired?e._e():n("span",{staticClass:"optional"},[e._v("(选填)")])]},proxy:!0}],null,!1,1401384896),model:{value:e.localreceiverAddress,callback:function(t){e.localreceiverAddress=t},expression:"localreceiverAddress"}}):e._e(),"人民币"!==e.currencyName?n("div",{staticClass:"line"}):e._e(),n("van-button",{staticClass:"submitBtn",attrs:{round:"",block:"",type:"info","native-type":"submit",color:e.$root.primaryColor}},[e._v("确认")])],1)],1)])],1)],1)},ca=[],sa=(a("fb6a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-field",{attrs:{readonly:"",clickable:"",required:"",name:"localbankName",value:e.key,label:"银行名称",placeholder:"请选择","input-align":"right",isLink:"",error:!1,"error-message-align":"right",rules:[{required:e.isRequired,message:"请选择银行"}]},on:{click:function(t){e.showPicker=!0},"click-right-icon":function(t){return t.stopPropagation(),e.clear.apply(null,arguments)}},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" 银行名称"),e.isRequired?e._e():a("span",{staticClass:"optional"},[e._v("(选填)")])]},proxy:!0},{key:"right-icon",fn:function(){return[!e.isRequired&&e.key?a("van-icon",{attrs:{name:"clear"}}):e._e()]},proxy:!0}])}),a("van-field",{staticStyle:{display:"none"},attrs:{name:"localbankNameId",value:e.value}}),a("div",{staticClass:"line"}),a("van-popup",{style:{height:"60%","border-radius":"10px"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("iframe",{staticClass:"iframe",attrs:{src:e.bankListUrl,frameborder:"0",scrolling:"auto",height:"100%",width:"100%"}})])],1)}),ra=[],la=Object(l["a"])("claims"),ua=la.mapState,da=la.mapMutations,pa={data:function(){return{docuno:this.$route.query.docuno,columns:[],showPicker:!1,bankList:null,bankcode:"",bankListUrl:oe["c"]?"https://helper-".concat(oe["e"],".health.pingan.com/bank-search-v3/#/list?token=").concat(Object(y["a"])(),"&unionId=").concat(Object(y["n"])()):"https://helper.health.pingan.com/bank-search-v3/index.html#/list?token=".concat(Object(y["a"])(),"&unionId=").concat(Object(y["n"])())}},watch:{},computed:Object(r["a"])(Object(r["a"])({},ua(["localBcInfo","accountName","bankNameId","bankName","bankCardNo","provinceName"])),{},{value:{set:function(e){var t,a,n,o,i,c,s,r,l,u,d,p,m,h,v,f;if(null!==(t=this.localBcInfo)&&void 0!==t&&t.isDone){if(!this.bankNameId)return;if(this.accountName!==this.localBcInfo.payeeName||this.bankCardNo!==this.localBcInfo.payeeAccount||this.provinceName!==this.localBcInfo.bankProviceName)return}this.localBcInfo&&this.setLocalBcInfo({bankType:e,bankCode:(null===(a=this.localBcInfo)||void 0===a?void 0:a.bankCode)||"",bankName:(null===(n=this.localBcInfo)||void 0===n?void 0:n.bankName)||"",tmsCode:(null===(o=this.localBcInfo)||void 0===o?void 0:o.tmsCode)||"",bankProvice:(null===(i=this.localBcInfo)||void 0===i?void 0:i.bankProvice)||"",bankProviceName:(null===(c=this.localBcInfo)||void 0===c?void 0:c.bankProviceName)||"",payeeType:"03",payeeTypeName:"银行卡",payeeCurrency:this.$store.state.claims.currency,payeeCurrencyName:this.$store.state.claims.currencyName,payeeAccount:(null===(s=this.localBcInfo)||void 0===s?void 0:s.payeeAccount)||"",payeeName:(null===(r=this.localBcInfo)||void 0===r?void 0:r.payeeName)||"",bankAddress:(null===(l=this.localBcInfo)||void 0===l?void 0:l.bankAddress)||"",payeePhone:(null===(u=this.localBcInfo)||void 0===u?void 0:u.payeePhone)||"",payeeCountry:(null===(d=this.localBcInfo)||void 0===d?void 0:d.payeeCountry)||"",payeeCountryName:(null===(p=this.localBcInfo)||void 0===p?void 0:p.payeeCountryName)||"",payeeAddr:(null===(m=this.localBcInfo)||void 0===m?void 0:m.payeeAddr)||"",swiftCode:(null===(h=this.localBcInfo)||void 0===h?void 0:h.swiftCode)||"",encryptionData:(null===(v=this.localBcInfo)||void 0===v?void 0:v.encryptionData)||"",isDone:(null===(f=this.localBcInfo)||void 0===f?void 0:f.isDone)||!1})},get:function(){var e;return(null===(e=this.localBcInfo)||void 0===e?void 0:e.bankType)||""}},key:{set:function(e){var t,a,n,o,i,c,s,r,l,u,d,p,m,h,v,f;if(null!==(t=this.localBcInfo)&&void 0!==t&&t.isDone){if(!this.bankName)return;if(this.accountName!==this.localBcInfo.payeeName||this.bankCardNo!==this.localBcInfo.payeeAccount||this.provinceName!==this.localBcInfo.bankProviceName)return}this.setLocalBcInfo({bankType:(null===(a=this.localBcInfo)||void 0===a?void 0:a.bankType)||"",bankCode:(null===(n=this.localBcInfo)||void 0===n?void 0:n.bankCode)||"",bankName:e,tmsCode:(null===(o=this.localBcInfo)||void 0===o?void 0:o.tmsCode)||"",bankProvice:(null===(i=this.localBcInfo)||void 0===i?void 0:i.bankProvice)||"",bankProviceName:(null===(c=this.localBcInfo)||void 0===c?void 0:c.bankProviceName)||"",payeeType:"03",payeeTypeName:"银行卡",payeeCurrency:this.$store.state.claims.currency,payeeCurrencyName:this.$store.state.claims.currencyName,payeeAccount:(null===(s=this.localBcInfo)||void 0===s?void 0:s.payeeAccount)||"",payeeName:(null===(r=this.localBcInfo)||void 0===r?void 0:r.payeeName)||"",bankAddress:(null===(l=this.localBcInfo)||void 0===l?void 0:l.bankAddress)||"",payeePhone:(null===(u=this.localBcInfo)||void 0===u?void 0:u.payeePhone)||"",payeeCountry:(null===(d=this.localBcInfo)||void 0===d?void 0:d.payeeCountry)||"",payeeCountryName:(null===(p=this.localBcInfo)||void 0===p?void 0:p.payeeCountryName)||"",payeeAddr:(null===(m=this.localBcInfo)||void 0===m?void 0:m.payeeAddr)||"",swiftCode:(null===(h=this.localBcInfo)||void 0===h?void 0:h.swiftCode)||"",encryptionData:(null===(v=this.localBcInfo)||void 0===v?void 0:v.encryptionData)||"",isDone:(null===(f=this.localBcInfo)||void 0===f?void 0:f.isDone)||!1})},get:function(){var e;return(null===(e=this.localBcInfo)||void 0===e?void 0:e.bankName)||""}}}),mounted:function(){var e=this;window.addEventListener("message",(function(t){var a="object"===Object(V["a"])(t.data)?t.data:JSON.parse(t.data);a.bankTypeName&&(e.key=a.bankTypeName,e.value=a.bankType,e.showPicker=!1),a.close&&(e.showPicker=!1)}),!1)},methods:Object(r["a"])({},da(["setLocalBcInfo"]))},ma=pa,ha=(a("25db"),Object(N["a"])(ma,sa,ra,!1,null,"6df1da70",null)),va=ha.exports,fa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-field",{attrs:{readonly:"",clickable:"",required:"",name:"localbankName",value:e.key,label:"银行名称",placeholder:"请选择","input-align":"right",error:!1,"error-message-align":"right",rules:[{required:e.isRequired,message:"请选择银行"}]},on:{click:function(t){return e.onShow()},"click-right-icon":function(t){return t.stopPropagation(),e.clear.apply(null,arguments)}},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" 银行名称"),e.isRequired?e._e():a("span",{staticClass:"optional"},[e._v("(选填)")])]},proxy:!0},{key:"right-icon",fn:function(){return[!e.isRequired&&e.key?a("van-icon",{attrs:{name:"clear"}}):e._e()]},proxy:!0}])}),a("van-field",{staticStyle:{display:"none"},attrs:{name:"localbankNameId",value:e.value}}),a("div",{staticClass:"line"}),a("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("van-picker",{staticClass:"myPicker",attrs:{"show-toolbar":"",columns:e.columns},on:{confirm:e.onConfirm,cancel:function(t){e.showPicker=!1}},scopedSlots:e._u([{key:"option",fn:function(t){var a=t.bankName;return[e._v(" "+e._s(a)+" ")]}}])})],1)],1)},ya=[],ba=Object(l["a"])("claims"),ka=ba.mapState,ga=ba.mapMutations,Aa={data:function(){return{columns:[],showPicker:!1,bankList:null}},computed:Object(r["a"])(Object(r["a"])({},ka(["localBcInfo"])),{},{value:{set:function(e){var t,a,n,o,i,c,s,r,l,u,d,p,m,h,v;this.setLocalBcInfo({bankType:e,bankCode:(null===(t=this.localBcInfo)||void 0===t?void 0:t.bankCode)||"",bankName:(null===(a=this.localBcInfo)||void 0===a?void 0:a.bankName)||"",tmsCode:(null===(n=this.localBcInfo)||void 0===n?void 0:n.tmsCode)||"",bankProvice:(null===(o=this.localBcInfo)||void 0===o?void 0:o.bankProvice)||"",bankProviceName:(null===(i=this.localBcInfo)||void 0===i?void 0:i.bankProviceName)||"",payeeType:"03",payeeTypeName:"银行卡",payeeCurrency:this.$store.state.claims.currency,payeeCurrencyName:this.$store.state.claims.currencyName,payeeAccount:(null===(c=this.localBcInfo)||void 0===c?void 0:c.payeeAccount)||"",payeeName:(null===(s=this.localBcInfo)||void 0===s?void 0:s.payeeName)||"",bankAddress:(null===(r=this.localBcInfo)||void 0===r?void 0:r.bankAddress)||"",payeePhone:(null===(l=this.localBcInfo)||void 0===l?void 0:l.payeePhone)||"",payeeCountry:(null===(u=this.localBcInfo)||void 0===u?void 0:u.payeeCountry)||"",payeeCountryName:(null===(d=this.localBcInfo)||void 0===d?void 0:d.payeeCountryName)||"",payeeAddr:(null===(p=this.localBcInfo)||void 0===p?void 0:p.payeeAddr)||"",swiftCode:(null===(m=this.localBcInfo)||void 0===m?void 0:m.swiftCode)||"",encryptionData:(null===(h=this.localBcInfo)||void 0===h?void 0:h.encryptionData)||"",isDone:(null===(v=this.localBcInfo)||void 0===v?void 0:v.isDone)||!1})},get:function(){var e;return(null===(e=this.localBcInfo)||void 0===e?void 0:e.bankType)||""}},key:{set:function(e){var t,a,n,o,i,c,s,r,l,u,d,p,m,h,v;this.setLocalBcInfo({bankType:(null===(t=this.localBcInfo)||void 0===t?void 0:t.bankType)||"",bankCode:(null===(a=this.localBcInfo)||void 0===a?void 0:a.bankCode)||"",bankName:e,tmsCode:(null===(n=this.localBcInfo)||void 0===n?void 0:n.tmsCode)||"",bankProvice:(null===(o=this.localBcInfo)||void 0===o?void 0:o.bankProvice)||"",bankProviceName:(null===(i=this.localBcInfo)||void 0===i?void 0:i.bankProviceName)||"",payeeType:"03",payeeTypeName:"银行卡",payeeCurrency:this.$store.state.claims.currency,payeeCurrencyName:this.$store.state.claims.currencyName,payeeAccount:(null===(c=this.localBcInfo)||void 0===c?void 0:c.payeeAccount)||"",payeeName:(null===(s=this.localBcInfo)||void 0===s?void 0:s.payeeName)||"",bankAddress:(null===(r=this.localBcInfo)||void 0===r?void 0:r.bankAddress)||"",payeePhone:(null===(l=this.localBcInfo)||void 0===l?void 0:l.payeePhone)||"",payeeCountry:(null===(u=this.localBcInfo)||void 0===u?void 0:u.payeeCountry)||"",payeeCountryName:(null===(d=this.localBcInfo)||void 0===d?void 0:d.payeeCountryName)||"",payeeAddr:(null===(p=this.localBcInfo)||void 0===p?void 0:p.payeeAddr)||"",swiftCode:(null===(m=this.localBcInfo)||void 0===m?void 0:m.swiftCode)||"",encryptionData:(null===(h=this.localBcInfo)||void 0===h?void 0:h.encryptionData)||"",isDone:(null===(v=this.localBcInfo)||void 0===v?void 0:v.isDone)||!1})},get:function(){var e;return(null===(e=this.localBcInfo)||void 0===e?void 0:e.bankName)||""}}}),methods:Object(r["a"])(Object(r["a"])({},ga(["setLocalBcInfo"])),{},{onShow:function(){this.showPicker=!0,this.bankList||this.getBankListIO()},getBankListIO:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["R"])({pageNum:1,pageSize:1e3});case 2:a=t.sent,e.bankList=a.foreignBanks,e.columns=[{values:e.bankList,defaultIndex:e.getIndex(e.bankList)}];case 5:case"end":return t.stop()}}),t)})))()},getIndex:function(e){var t=this;return this.key?e.findIndex((function(e){return e.bankName==t.key})):0},onConfirm:function(e){var t,a,n,o,i,c,s,r,l,u,d,p;this.setLocalBcInfo({bankType:(null===(t=this.localBcInfo)||void 0===t?void 0:t.bankType)||"",bankCode:(null===(a=this.localBcInfo)||void 0===a?void 0:a.bankCode)||"",bankName:(null===(n=this.localBcInfo)||void 0===n?void 0:n.bankName)||"",tmsCode:(null===(o=this.localBcInfo)||void 0===o?void 0:o.tmsCode)||"",bankProvice:(null===(i=this.localBcInfo)||void 0===i?void 0:i.bankProvice)||"",bankProviceName:(null===(c=this.localBcInfo)||void 0===c?void 0:c.bankProviceName)||"",payeeType:"03",payeeTypeName:"银行卡",payeeCurrency:this.$store.state.claims.currency,payeeCurrencyName:this.$store.state.claims.currencyName,payeeAccount:(null===(s=this.localBcInfo)||void 0===s?void 0:s.payeeAccount)||"",payeeName:(null===(r=this.localBcInfo)||void 0===r?void 0:r.payeeName)||"",bankAddress:e[0].bankAddress,payeePhone:(null===(l=this.localBcInfo)||void 0===l?void 0:l.payeePhone)||"",payeeCountry:e[0].countryFcode,payeeCountryName:e[0].countryCnm,payeeAddr:(null===(u=this.localBcInfo)||void 0===u?void 0:u.payeeAddr)||"",swiftCode:e[0].swiftCode,encryptionData:(null===(d=this.localBcInfo)||void 0===d?void 0:d.encryptionData)||"",isDone:(null===(p=this.localBcInfo)||void 0===p?void 0:p.isDone)||!1}),this.value=e[0].bankNo,this.key=e[0].bankName,this.showPicker=!1},clear:function(){var e,t,a,n,o,i,c,s,r,l;this.setLocalBcInfo({bankType:"",bankCode:(null===(e=this.localBcInfo)||void 0===e?void 0:e.bankCode)||"",bankName:"",tmsCode:(null===(t=this.localBcInfo)||void 0===t?void 0:t.tmsCode)||"",bankProvice:(null===(a=this.localBcInfo)||void 0===a?void 0:a.bankProvice)||"",bankProviceName:(null===(n=this.localBcInfo)||void 0===n?void 0:n.bankProviceName)||"",payeeType:"03",payeeTypeName:"银行卡",payeeCurrency:this.$store.state.claims.currency,payeeCurrencyName:this.$store.state.claims.currencyName,payeeAccount:(null===(o=this.localBcInfo)||void 0===o?void 0:o.payeeAccount)||"",payeeName:(null===(i=this.localBcInfo)||void 0===i?void 0:i.payeeName)||"",bankAddress:"",payeePhone:(null===(c=this.localBcInfo)||void 0===c?void 0:c.payeePhone)||"",payeeCountry:"",payeeCountryName:"",payeeAddr:(null===(s=this.localBcInfo)||void 0===s?void 0:s.payeeAddr)||"",swiftCode:"",encryptionData:(null===(r=this.localBcInfo)||void 0===r?void 0:r.encryptionData)||"",isDone:(null===(l=this.localBcInfo)||void 0===l?void 0:l.isDone)||!1})}})},Ca=Aa,Na=(a("f9ce"),Object(N["a"])(Ca,fa,ya,!1,null,"f2f7eb3e",null)),Ia=Na.exports,Ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-field",{attrs:{readonly:"",clickable:"",required:"",name:"localprovinceName",value:e.key,label:"开户省/市",placeholder:"请选择","input-align":"right",isLink:"",error:!1,"error-message-align":"right",rules:[{required:e.isRequired,message:"请选择开户省/市"}]},on:{click:function(t){return e.onShow()},"click-right-icon":function(t){return t.stopPropagation(),e.clear.apply(null,arguments)}},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" 开户省/市"),e.isRequired?e._e():a("span",{staticClass:"optional"},[e._v("(选填)")])]},proxy:!0},{key:"right-icon",fn:function(){return[!e.isRequired&&e.key?a("van-icon",{attrs:{name:"clear"}}):e._e()]},proxy:!0}])}),a("van-field",{staticStyle:{display:"none"},attrs:{name:"provinceCode",value:e.value}}),a("div",{staticClass:"line"}),a("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.columns},on:{confirm:e.onConfirm,cancel:function(t){e.showPicker=!1}},scopedSlots:e._u([{key:"option",fn:function(t){var a=t.provinceName;return[e._v(" "+e._s(a)+" ")]}}])})],1)],1)},wa=[],xa=Object(y["h"])(),Pa=Object(l["a"])("claims"),Oa=Pa.mapState,ja=Pa.mapMutations,Ta={data:function(){return{columns:[],showPicker:!1,provinceList:null}},watch:{getTmsCodeByPcode:function(e){this.value=e}},mounted:function(){this.getProvinceListIO()},computed:Object(r["a"])(Object(r["a"])({},Oa(["localBcInfo"])),{},{value:{set:function(e){var t,a,n,o,i,c,s,r,l,u,d,p,m,h,v;this.setLocalBcInfo({bankType:(null===(t=this.localBcInfo)||void 0===t?void 0:t.bankType)||"",bankCode:(null===(a=this.localBcInfo)||void 0===a?void 0:a.bankCode)||"",bankName:(null===(n=this.localBcInfo)||void 0===n?void 0:n.bankName)||"",tmsCode:e,bankProvice:(null===(o=this.localBcInfo)||void 0===o?void 0:o.bankProvice)||"",bankProviceName:(null===(i=this.localBcInfo)||void 0===i?void 0:i.bankProviceName)||"",payeeType:"03",payeeTypeName:"银行卡",payeeCurrency:this.$store.state.claims.currency,payeeCurrencyName:this.$store.state.claims.currencyName,payeeAccount:(null===(c=this.localBcInfo)||void 0===c?void 0:c.payeeAccount)||"",payeeName:(null===(s=this.localBcInfo)||void 0===s?void 0:s.payeeName)||"",bankAddress:(null===(r=this.localBcInfo)||void 0===r?void 0:r.bankAddress)||"",payeePhone:(null===(l=this.localBcInfo)||void 0===l?void 0:l.payeePhone)||"",payeeCountry:(null===(u=this.localBcInfo)||void 0===u?void 0:u.payeeCountry)||"",payeeCountryName:(null===(d=this.localBcInfo)||void 0===d?void 0:d.payeeCountryName)||"",payeeAddr:(null===(p=this.localBcInfo)||void 0===p?void 0:p.payeeAddr)||"",swiftCode:(null===(m=this.localBcInfo)||void 0===m?void 0:m.swiftCode)||"",encryptionData:(null===(h=this.localBcInfo)||void 0===h?void 0:h.encryptionData)||"",isDone:(null===(v=this.localBcInfo)||void 0===v?void 0:v.isDone)||!1})},get:function(){var e;return(null===(e=this.localBcInfo)||void 0===e?void 0:e.tmsCode)||""}},key:{set:function(e){var t,a,n,o,i,c,s,r,l,u,d,p,m,h,v;this.setLocalBcInfo({bankType:(null===(t=this.localBcInfo)||void 0===t?void 0:t.bankType)||"",bankCode:(null===(a=this.localBcInfo)||void 0===a?void 0:a.bankCode)||"",bankName:(null===(n=this.localBcInfo)||void 0===n?void 0:n.bankName)||"",tmsCode:(null===(o=this.localBcInfo)||void 0===o?void 0:o.tmsCode)||"",bankProvice:(null===(i=this.localBcInfo)||void 0===i?void 0:i.bankProvice)||"",bankProviceName:e,payeeType:"03",payeeTypeName:"银行卡",payeeCurrency:this.$store.state.claims.currency,payeeCurrencyName:this.$store.state.claims.currencyName,payeeAccount:(null===(c=this.localBcInfo)||void 0===c?void 0:c.payeeAccount)||"",payeeName:(null===(s=this.localBcInfo)||void 0===s?void 0:s.payeeName)||"",bankAddress:(null===(r=this.localBcInfo)||void 0===r?void 0:r.bankAddress)||"",payeePhone:(null===(l=this.localBcInfo)||void 0===l?void 0:l.payeePhone)||"",payeeCountry:(null===(u=this.localBcInfo)||void 0===u?void 0:u.payeeCountry)||"",payeeCountryName:(null===(d=this.localBcInfo)||void 0===d?void 0:d.payeeCountryName)||"",payeeAddr:(null===(p=this.localBcInfo)||void 0===p?void 0:p.payeeAddr)||"",swiftCode:(null===(m=this.localBcInfo)||void 0===m?void 0:m.swiftCode)||"",encryptionData:(null===(h=this.localBcInfo)||void 0===h?void 0:h.encryptionData)||"",isDone:(null===(v=this.localBcInfo)||void 0===v?void 0:v.isDone)||!1})},get:function(){var e;return(null===(e=this.localBcInfo)||void 0===e?void 0:e.bankProviceName)||""}},getTmsCodeByPcode:function(){return xa&&xa.provinceCode}}),methods:Object(r["a"])(Object(r["a"])({},ja(["setLocalBcInfo"])),{},{onShow:function(){this.showPicker=!0,this.provinceList||this.getProvinceListIO()},getProvinceListIO:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["B"])({systemCode:"EHISAGENT"});case 2:a=t.sent,e.provinceList=a,e.columns=[{values:e.provinceList}];case 5:case"end":return t.stop()}}),t)})))()},onConfirm:function(e){var t,a,n,o,i,c,s,r,l,u,d,p,m,h,v;this.key=e[0].provinceName,this.value=e[0].tmsCode,this.setLocalBcInfo({bankType:(null===(t=this.localBcInfo)||void 0===t?void 0:t.bankType)||"",bankCode:(null===(a=this.localBcInfo)||void 0===a?void 0:a.bankCode)||"",bankName:(null===(n=this.localBcInfo)||void 0===n?void 0:n.bankName)||"",tmsCode:(null===(o=this.localBcInfo)||void 0===o?void 0:o.tmsCode)||"",bankProvice:e[0].provinceCode,bankProviceName:(null===(i=this.localBcInfo)||void 0===i?void 0:i.bankProviceName)||"",payeeType:"03",payeeTypeName:"银行卡",payeeCurrency:this.$store.state.claims.currency,payeeCurrencyName:this.$store.state.claims.currencyName,payeeAccount:(null===(c=this.localBcInfo)||void 0===c?void 0:c.payeeAccount)||"",payeeName:(null===(s=this.localBcInfo)||void 0===s?void 0:s.payeeName)||"",bankAddress:(null===(r=this.localBcInfo)||void 0===r?void 0:r.bankAddress)||"",payeePhone:(null===(l=this.localBcInfo)||void 0===l?void 0:l.payeePhone)||"",payeeCountry:(null===(u=this.localBcInfo)||void 0===u?void 0:u.payeeCountry)||"",payeeCountryName:(null===(d=this.localBcInfo)||void 0===d?void 0:d.payeeCountryName)||"",payeeAddr:(null===(p=this.localBcInfo)||void 0===p?void 0:p.payeeAddr)||"",swiftCode:(null===(m=this.localBcInfo)||void 0===m?void 0:m.swiftCode)||"",encryptionData:(null===(h=this.localBcInfo)||void 0===h?void 0:h.encryptionData)||"",isDone:(null===(v=this.localBcInfo)||void 0===v?void 0:v.isDone)||!1}),this.showPicker=!1},clear:function(){var e,t,a,n,o,i,c,s,r,l,u,d,p;this.setProvinceName(""),this.setTmsCode(""),this.setLocalBcInfo({bankType:(null===(e=this.localBcInfo)||void 0===e?void 0:e.bankType)||"",bankCode:(null===(t=this.localBcInfo)||void 0===t?void 0:t.bankCode)||"",bankName:(null===(a=this.localBcInfo)||void 0===a?void 0:a.bankName)||"",tmsCode:"",bankProvice:"",bankProviceName:"",payeeType:"03",payeeTypeName:"银行卡",payeeCurrency:this.$store.state.claims.currency,payeeCurrencyName:this.$store.state.claims.currencyName,payeeAccount:(null===(n=this.localBcInfo)||void 0===n?void 0:n.payeeAccount)||"",payeeName:(null===(o=this.localBcInfo)||void 0===o?void 0:o.payeeName)||"",bankAddress:(null===(i=this.localBcInfo)||void 0===i?void 0:i.bankAddress)||"",payeePhone:(null===(c=this.localBcInfo)||void 0===c?void 0:c.payeePhone)||"",payeeCountry:(null===(s=this.localBcInfo)||void 0===s?void 0:s.payeeCountry)||"",payeeCountryName:(null===(r=this.localBcInfo)||void 0===r?void 0:r.payeeCountryName)||"",payeeAddr:(null===(l=this.localBcInfo)||void 0===l?void 0:l.payeeAddr)||"",swiftCode:(null===(u=this.localBcInfo)||void 0===u?void 0:u.swiftCode)||"",encryptionData:(null===(d=this.localBcInfo)||void 0===d?void 0:d.encryptionData)||"",isDone:(null===(p=this.localBcInfo)||void 0===p?void 0:p.isDone)||!1})}})},Sa=Ta,Ra=(a("e11e"),Object(N["a"])(Sa,Ba,wa,!1,null,"90f1e4f8",null)),Da=Ra.exports,La=a("6e84"),qa=a("bc3a"),$a=a.n(qa),_a=Object(l["a"])("claims"),Ma=_a.mapState,Ea=_a.mapMutations,Ua={components:{BankPicker:va,BankProvincePicker:Da,BankPickerForeign:Ia},props:["accountinfo","docunoRadio"],data:function(){return{radio:0,showPicker:!1,isDoneTs:!1,onlyradio:9999,isAll:!0,showList:null}},computed:Object(r["a"])(Object(r["a"])({},Ma(["patientInfo","applyInfo","isAdultPerson","currency","currencyName","bankCardNo","localBcInfo"])),{},{localpayName:{set:function(e){var t,a,n,o,i,c,s,r,l,u,d,p,m,h,v;this.setLocalBcInfo({bankType:(null===(t=this.$store.state.claims.localBcInfo)||void 0===t?void 0:t.bankType)||"",bankCode:(null===(a=this.$store.state.claims.localBcInfo)||void 0===a?void 0:a.bankCode)||"",bankName:(null===(n=this.$store.state.claims.localBcInfo)||void 0===n?void 0:n.bankName)||"",tmsCode:(null===(o=this.$store.state.claims.localBcInfo)||void 0===o?void 0:o.tmsCode)||"",bankProvice:(null===(i=this.$store.state.claims.localBcInfo)||void 0===i?void 0:i.bankProvice)||"",bankProviceName:(null===(c=this.$store.state.claims.localBcInfo)||void 0===c?void 0:c.bankProviceName)||"",payeeType:"03",payeeTypeName:"银行卡",payeeCurrency:this.$store.state.claims.currency,payeeCurrencyName:this.$store.state.claims.currencyName,payeeAccount:(null===(s=this.$store.state.claims.localBcInfo)||void 0===s?void 0:s.payeeAccount)||"",payeeName:e,bankAddress:(null===(r=this.$store.state.claims.localBcInfo)||void 0===r?void 0:r.bankAddress)||"",payeePhone:(null===(l=this.$store.state.claims.localBcInfo)||void 0===l?void 0:l.payeePhone)||"",payeeCountry:(null===(u=this.$store.state.claims.localBcInfo)||void 0===u?void 0:u.payeeCountry)||"",payeeCountryName:(null===(d=this.$store.state.claims.localBcInfo)||void 0===d?void 0:d.payeeCountryName)||"",payeeAddr:(null===(p=this.$store.state.claims.localBcInfo)||void 0===p?void 0:p.payeeAddr)||"",swiftCode:(null===(m=this.$store.state.claims.localBcInfo)||void 0===m?void 0:m.swiftCode)||"",encryptionData:(null===(h=this.$store.state.claims.localBcInfo)||void 0===h?void 0:h.encryptionData)||"",isDone:(null===(v=this.$store.state.claims.localBcInfo)||void 0===v?void 0:v.isDone)||!1})},get:function(){var e;return null===(e=this.$store.state.claims.localBcInfo)||void 0===e?void 0:e.payeeName}},localcardNo:{set:function(e){var t,a,n,o,i,c,s,r,l,u,d,p,m,h,v;this.setLocalBcInfo({bankType:(null===(t=this.$store.state.claims.localBcInfo)||void 0===t?void 0:t.bankType)||"",bankCode:(null===(a=this.$store.state.claims.localBcInfo)||void 0===a?void 0:a.bankCode)||"",bankName:(null===(n=this.$store.state.claims.localBcInfo)||void 0===n?void 0:n.bankName)||"",tmsCode:(null===(o=this.$store.state.claims.localBcInfo)||void 0===o?void 0:o.tmsCode)||"",bankProvice:(null===(i=this.$store.state.claims.localBcInfo)||void 0===i?void 0:i.bankProvice)||"",bankProviceName:(null===(c=this.$store.state.claims.localBcInfo)||void 0===c?void 0:c.bankProviceName)||"",payeeType:"03",payeeTypeName:"银行卡",payeeCurrency:this.$store.state.claims.currency,payeeCurrencyName:this.$store.state.claims.currencyName,payeeAccount:e,payeeName:(null===(s=this.$store.state.claims.localBcInfo)||void 0===s?void 0:s.payeeName)||"",bankAddress:(null===(r=this.$store.state.claims.localBcInfo)||void 0===r?void 0:r.bankAddress)||"",payeePhone:(null===(l=this.$store.state.claims.localBcInfo)||void 0===l?void 0:l.payeePhone)||"",payeeCountry:(null===(u=this.$store.state.claims.localBcInfo)||void 0===u?void 0:u.payeeCountry)||"",payeeCountryName:(null===(d=this.$store.state.claims.localBcInfo)||void 0===d?void 0:d.payeeCountryName)||"",payeeAddr:(null===(p=this.$store.state.claims.localBcInfo)||void 0===p?void 0:p.payeeAddr)||"",swiftCode:(null===(m=this.$store.state.claims.localBcInfo)||void 0===m?void 0:m.swiftCode)||"",encryptionData:(null===(h=this.$store.state.claims.localBcInfo)||void 0===h?void 0:h.encryptionData)||"",isDone:(null===(v=this.$store.state.claims.localBcInfo)||void 0===v?void 0:v.isDone)||!1})},get:function(){var e;return null===(e=this.$store.state.claims.localBcInfo)||void 0===e?void 0:e.payeeAccount}},localreceiverAddress:{set:function(e){var t,a,n,o,i,c,s,r,l,u,d,p,m,h,v;this.setLocalBcInfo({bankType:(null===(t=this.$store.state.claims.localBcInfo)||void 0===t?void 0:t.bankType)||"",bankCode:(null===(a=this.$store.state.claims.localBcInfo)||void 0===a?void 0:a.bankCode)||"",bankName:(null===(n=this.$store.state.claims.localBcInfo)||void 0===n?void 0:n.bankName)||"",tmsCode:(null===(o=this.$store.state.claims.localBcInfo)||void 0===o?void 0:o.tmsCode)||"",bankProvice:(null===(i=this.$store.state.claims.localBcInfo)||void 0===i?void 0:i.bankProvice)||"",bankProviceName:(null===(c=this.$store.state.claims.localBcInfo)||void 0===c?void 0:c.bankProviceName)||"",payeeType:"03",payeeTypeName:"银行卡",payeeCurrency:this.$store.state.claims.currency,payeeCurrencyName:this.$store.state.claims.currencyName,payeeAccount:(null===(s=this.$store.state.claims.localBcInfo)||void 0===s?void 0:s.payeeAccount)||"",payeeName:(null===(r=this.$store.state.claims.localBcInfo)||void 0===r?void 0:r.payeeName)||"",bankAddress:(null===(l=this.$store.state.claims.localBcInfo)||void 0===l?void 0:l.bankAddress)||"",payeePhone:(null===(u=this.$store.state.claims.localBcInfo)||void 0===u?void 0:u.payeePhone)||"",payeeCountry:(null===(d=this.$store.state.claims.localBcInfo)||void 0===d?void 0:d.payeeCountry)||"",payeeCountryName:(null===(p=this.$store.state.claims.localBcInfo)||void 0===p?void 0:p.payeeCountryName)||"",payeeAddr:e,swiftCode:(null===(m=this.$store.state.claims.localBcInfo)||void 0===m?void 0:m.swiftCode)||"",encryptionData:(null===(h=this.$store.state.claims.localBcInfo)||void 0===h?void 0:h.encryptionData)||"",isDone:(null===(v=this.$store.state.claims.localBcInfo)||void 0===v?void 0:v.isDone)||!1})},get:function(){var e;return null===(e=this.$store.state.claims.localBcInfo)||void 0===e?void 0:e.payeeAddr}}}),watch:{currency:{handler:function(e){e&&(this.isDoneTs=!1)},immediate:!0},localBcInfo:{handler:function(e){var t=this.$store.state.claims.localBcInfo;t&&t.isDone&&(this.radio=9999),t||(this.isDoneTs=!1)},immediate:!0},docunoRadio:{handler:function(e){this.radio=9999===e?9999:e},immediate:!0},accountinfo:{handler:function(e){e.length>3?(this.showList=e.slice(0,3),this.isAll=!0):this.showList=e},immediate:!0}},mounted:function(){},methods:Object(r["a"])(Object(r["a"])({},Ea(["setAccountName","setBankCardNo","setReceiverAddress","setBankNo","setBankName","setBankNameId","setBankInfo","setProvinceName","setCurrencyName","setCurrency","setHasAccount","setLocalBcInfo"])),{},{cancelBank:function(){var e;this.showPicker=!this.showPicker;var t,a=null===(e=this.$store.state.claims.localBcInfo)||void 0===e?void 0:e.isDone;a?this.setLocalBcInfo({bankType:this.$store.state.claims.bankNameId,bankCode:this.$store.state.claims.bankNo,bankName:this.$store.state.claims.bankName,bankProvice:this.$store.state.claims.provinceCode,bankProviceName:this.$store.state.claims.provinceName,payeeType:"03",payeeTypeName:"银行卡",payeeCurrency:this.$store.state.claims.currency,payeeCurrencyName:this.$store.state.claims.currencyName,payeeAccount:this.$store.state.claims.bankCardNo,payeeName:this.$store.state.claims.accountName,tmsCode:this.$store.state.claims.tmsCode,bankAddress:this.$store.state.claims.swiftCode?this.$store.state.claims.bankInfo.bankAddress:"",payeePhone:"",payeeCountry:this.$store.state.claims.swiftCode?this.$store.state.claims.bankInfo.payeeCountry:"",payeeCountryName:this.$store.state.claims.swiftCode?this.$store.state.claims.bankInfo.payeeCountryName:"",payeeAddr:this.$store.state.claims.receiverAddress,swiftCode:this.$store.state.claims.swiftCode?this.$store.state.claims.bankInfo.swiftCode:"",encryptionData:"",isDone:(null===(t=this.localBcInfo)||void 0===t?void 0:t.isDone)||!1}):this.setLocalBcInfo(null)},openAll:function(){this.isAll=!1,this.showList=this.accountinfo},changeBank:function(e){e.claimHisAccountRecordRespDto?this.addhistory(e):this.addnew()},setStor:function(e,t){this.setAccountName(e.payeeName),this.setCurrency(e.payeeCurrency),this.setCurrencyName(e.payeeCurrencyName),this.setBankName(e.bankName),this.setBankNameId(e.bankType),this.setBankNo(e.bankCode),e.swiftCode?this.setBankInfo({countryFcode:e.payeeCountry,countryCnm:e.payeeCountryName,swiftCode:e.swiftCode,bankAddress:e.bankAddress}):this.setBankInfo(null),this.setProvinceName(e.bankProviceName),this.setProvinceCode(e.bankProvice),this.setTmsCode(e.tmsCode),this.setBankCardNo(e.payeeAccount),this.setReceiverAddress(e.payeeAddr),this.setEncryptionData(t)},addhistory:function(e){var t=e.claimHisAccountRecordRespDto,a=e.encryptionData;this.setStor(t,a)},addnew:function(){var e=this.localBcInfo;this.setStor(e,"")},localSubmit:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!(e.localpayName&&e.localpayName.length>=2&&e.localpayName.length<=60)){a.next=5;break}t.submitAccount(e,(function(e){})),a.next=7;break;case 5:return t.$toast("账户名长度要大于等于2且小于60"),a.abrupt("return");case 7:case"end":return a.stop()}}),a)})))()},onFailed:function(){},queryBankNoIO:function(e,t,a){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(u["K"])({bankType:e,provinceName:t,tmsCode:(null===(o=n.$store.state.claims.localBcInfo)||void 0===o?void 0:o.tmsCode)||"0100",systemCode:"MCORE"});case 2:return i=a.sent,a.abrupt("return",i);case 4:case"end":return a.stop()}}),a)})))()},submitAccount:function(e,t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var o,i,c,s,r,l,d,p,m,h,v,f,y,b,k,g,A,C,N,I,B,w,x,P,O,j,T,S,R,D,L,q,$,_,M,E;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a.isRequired){n.next=2;break}return n.abrupt("return",t(e));case 2:if(a.disabled=!0,g="",a.$loading.show(),"人民币"!==a.currencyName){n.next=17;break}return n.next=8,a.queryBankNoIO(e.localbankNameId,e.localprovinceName,e.localprovinceCode).finally((function(){a.disabled=!1}));case 8:if(A=n.sent,!A){n.next=15;break}g=A.bankNo,a.setLocalBcInfo({bankType:(null===(C=a.$store.state.claims.localBcInfo)||void 0===C?void 0:C.bankType)||"",bankCode:g,bankName:(null===(N=a.$store.state.claims.localBcInfo)||void 0===N?void 0:N.bankName)||"",tmsCode:(null===(I=a.$store.state.claims.localBcInfo)||void 0===I?void 0:I.tmsCode)||"",bankProvice:(null===(B=a.$store.state.claims.localBcInfo)||void 0===B?void 0:B.bankProvice)||"",bankProviceName:(null===(w=a.$store.state.claims.localBcInfo)||void 0===w?void 0:w.bankProviceName)||"",payeeType:"03",payeeTypeName:"银行卡",payeeCurrency:a.$store.state.claims.currency,payeeCurrencyName:a.$store.state.claims.currencyName,payeeAccount:(null===(x=a.$store.state.claims.localBcInfo)||void 0===x?void 0:x.payeeAccount)||"",payeeName:(null===(P=a.$store.state.claims.localBcInfo)||void 0===P?void 0:P.payeeName)||"",bankAddress:(null===(O=a.$store.state.claims.localBcInfo)||void 0===O?void 0:O.bankAddress)||"",payeePhone:(null===(j=a.$store.state.claims.localBcInfo)||void 0===j?void 0:j.payeePhone)||"",payeeCountry:(null===(T=a.$store.state.claims.localBcInfo)||void 0===T?void 0:T.payeeCountry)||"",payeeCountryName:(null===(S=a.$store.state.claims.localBcInfo)||void 0===S?void 0:S.payeeCountryName)||"",payeeAddr:(null===(R=a.$store.state.claims.localBcInfo)||void 0===R?void 0:R.payeeAddr)||"",swiftCode:(null===(D=a.$store.state.claims.localBcInfo)||void 0===D?void 0:D.swiftCode)||"",encryptionData:"",isDone:(null===(L=a.$store.state.claims.localBcInfo)||void 0===L?void 0:L.isDone)||!1}),n.next=17;break;case 15:return a.$toast("该省市没有所选银行"),n.abrupt("return",!1);case 17:if(null===(o=a.patientInfo)||void 0===o||!o.accidentCustomerNo){n.next=27;break}return n.next=20,Object(u["h"])({accidentCustomerNo:null===(q=a.patientInfo)||void 0===q?void 0:q.accidentCustomerNo,clientName:e.localpayName,bankAccountNo:e.localcardNo,applyCustomerNo:a.applyInfo.applyCustomerNo,c:"EKB-MINI",encryptionData:a.encryptionData}).finally((function(){a.$loading.hide()}));case 20:if($=n.sent,_=$.passFlag,M=$.reason,!_||"Y"!==_){n.next=25;break}n.next=27;break;case 25:return n.next=27,a.$dialog.confirm({title:"温馨提示",message:"".concat(M||"您的账户校验不通过","，是否坚持提交理赔申请？")});case 27:a.setLocalBcInfo({bankType:(null===(i=a.$store.state.claims.localBcInfo)||void 0===i?void 0:i.bankType)||"",bankCode:(null===(c=a.$store.state.claims.localBcInfo)||void 0===c?void 0:c.bankCode)||"",bankName:(null===(s=a.$store.state.claims.localBcInfo)||void 0===s?void 0:s.bankName)||"",tmsCode:(null===(r=a.$store.state.claims.localBcInfo)||void 0===r?void 0:r.tmsCode)||"",bankProvice:(null===(l=a.$store.state.claims.localBcInfo)||void 0===l?void 0:l.bankProvice)||"",bankProviceName:(null===(d=a.$store.state.claims.localBcInfo)||void 0===d?void 0:d.bankProviceName)||"",payeeType:"03",payeeTypeName:"银行卡",payeeCurrency:a.$store.state.claims.currency,payeeCurrencyName:a.$store.state.claims.currencyName,payeeAccount:(null===(p=a.$store.state.claims.localBcInfo)||void 0===p?void 0:p.payeeAccount)||"",payeeName:(null===(m=a.$store.state.claims.localBcInfo)||void 0===m?void 0:m.payeeName)||"",bankAddress:(null===(h=a.$store.state.claims.localBcInfo)||void 0===h?void 0:h.bankAddress)||"",payeePhone:(null===(v=a.$store.state.claims.localBcInfo)||void 0===v?void 0:v.payeePhone)||"",payeeCountry:(null===(f=a.$store.state.claims.localBcInfo)||void 0===f?void 0:f.payeeCountry)||"",payeeCountryName:(null===(y=a.$store.state.claims.localBcInfo)||void 0===y?void 0:y.payeeCountryName)||"",payeeAddr:(null===(b=a.$store.state.claims.localBcInfo)||void 0===b?void 0:b.payeeAddr)||"",swiftCode:(null===(k=a.$store.state.claims.localBcInfo)||void 0===k?void 0:k.swiftCode)||"",encryptionData:"",isDone:!0}),E=a.localBcInfo,a.setStor(E,""),a.showPicker=!1,a.isDoneTs=!0,a.radio=9999;case 33:case"end":return n.stop()}}),n)})))()},editLocal:function(){this.showPicker=!0},beforeRead:function(e){var t=/^(image\/jpeg|image\/png|image\/jpg)$/i;return t.test(e.type)?Object(La["a"])(e):(this.$toast("请上传jpeg、jpg、png格式的图片"),!1)},afterRead:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=e.file,o=new FormData,o.append("file",n,Date.now()+".jpg"),i={headers:{"Content-Type":"multipart/form-data",Authorization:Object(y["a"])()}},f["a"].loading({message:"加载中...",forbidClick:!0}),$a.a.post("/api/business/upload/pri",o,i).then((function(e){f["a"].clear();var a=e.data;"200"===a.code?(Object(f["a"])("识别中，请稍候"),t.OCRBankNumber(a.data.url)):Object(f["a"])(a.message)})).catch((function(e){f["a"].clear(),Object(f["a"])("银行卡上传图片失败")}));case 6:case"end":return a.stop()}}),a)})))()},OCRBankNumber:function(e){var t=this;Object(u["g"])({requestType:"3",resourceDownloadUrl:e}).then((function(e){f["a"].clear();var a=e.cardNo;a?(t.cardNo=a,t.identifyBankname(a),Object(f["a"])("识别成功")):Object(f["a"])("识别失败")})).catch((function(e){f["a"].clear(),Object(f["a"])("识别失败")}))},checkBankNo:function(e){return!this.isRequired||Object(m["g"])(e)},identifyBankname:function(e){var t=this;if(e.length>=6&&"人民币"===this.currencyName){var a=e.substr(0,6);Object(u["J"])({issingNo:a,systemCode:"EHISAGENT"}).then((function(a){if(a){var n=a;if(1===(null===n||void 0===n?void 0:n.length)){var o,i,c,s,r,l,u,d,p,m,h,v,f,y=n[0],b=y.bankName,k=y.bankTypeNo;t.setLocalBcInfo({bankType:k,bankCode:(null===(o=t.localBcInfo)||void 0===o?void 0:o.bankCode)||"",bankName:b,tmsCode:(null===(i=t.localBcInfo)||void 0===i?void 0:i.tmsCode)||"",bankProvice:(null===(c=t.localBcInfo)||void 0===c?void 0:c.bankProvice)||"",bankProviceName:(null===(s=t.localBcInfo)||void 0===s?void 0:s.bankProviceName)||"",payeeType:"03",payeeTypeName:"银行卡",payeeCurrency:t.$store.state.claims.currency,payeeCurrencyName:t.$store.state.claims.currencyName,payeeAccount:e,payeeName:(null===(r=t.localBcInfo)||void 0===r?void 0:r.payeeName)||"",bankAddress:(null===(l=t.localBcInfo)||void 0===l?void 0:l.bankAddress)||"",payeePhone:(null===(u=t.localBcInfo)||void 0===u?void 0:u.payeePhone)||"",payeeCountry:(null===(d=t.localBcInfo)||void 0===d?void 0:d.payeeCountry)||"",payeeCountryName:(null===(p=t.localBcInfo)||void 0===p?void 0:p.payeeCountryName)||"",payeeAddr:(null===(m=t.localBcInfo)||void 0===m?void 0:m.payeeAddr)||"",swiftCode:(null===(h=t.localBcInfo)||void 0===h?void 0:h.swiftCode)||"",encryptionData:(null===(v=t.localBcInfo)||void 0===v?void 0:v.encryptionData)||"",isDone:(null===(f=t.localBcInfo)||void 0===f?void 0:f.isDone)||!1})}}})).catch((function(e){Object(f["a"])(e.message||e.msg||"网络错误")}))}}})},Fa=Ua,Ka=(a("30a8"),Object(N["a"])(Fa,ia,ca,!1,null,"d92f9a7a",null)),Ga=Ka.exports,Ha=Object(l["a"])("claims"),Va=Ha.mapState,Qa=Ha.mapMutations,za={name:"accountForm",props:["accountinfo","docunoRadio"],components:{CurrencyType:oa,SelectCards:Ga},data:function(){return{disabled:!1}},computed:Object(r["a"])(Object(r["a"])({},Va(["patientInfo","applyInfo","isAdultPerson","currency","currencyName","bankCardNo"])),{},{payName:{set:function(e){this.setAccountName(e)},get:function(){return this.$store.state.claims.accountName}},cardNo:{set:function(e){this.setBankCardNo(e)},get:function(){return this.bankCardNo}},receiverAddress:{set:function(e){this.setReceiverAddress(e)},get:function(){return this.$store.state.claims.receiverAddress}}}),watch:{},mounted:function(){},methods:Object(r["a"])(Object(r["a"])({},Qa(["setAccountName","setBankCardNo","setReceiverAddress","setBankNo","setBankName","setBankNameId","setBankInfo","setProvinceName","setCurrencyName","setCurrency","setHasAccount","setLocalBcInfo"])),{},{onCurrentTypeChange:function(){this.setLocalBcInfo(null)},beforeRead:function(e){var t=/^(image\/jpeg|image\/png|image\/jpg)$/i;return t.test(e.type)?Object(La["a"])(e):(this.$toast("请上传jpeg、jpg、png格式的图片"),!1)},checkBankNo:function(e){return!this.isRequired||Object(m["g"])(e)},identifyBankname:function(e){var t=this;if(e.length>=6&&"人民币"===this.currencyName){var a=e.substr(0,6);Object(u["J"])({issingNo:a,systemCode:"EHISAGENT"}).then((function(e){if(e){var a=e;if(1===(null===a||void 0===a?void 0:a.length)){var n=a[0],o=n.bankName,i=n.bankTypeNo;t.setBankName(o),t.setBankNameId(i)}}})).catch((function(e){Object(f["a"])(e.message||e.msg||"网络错误")}))}},prePage:function(){this.$emit("prePage")}})},Xa=za,Ja=(a("c9d9"),Object(N["a"])(Xa,Vt,Qt,!1,null,"60c621f4",null)),Wa=Ja.exports,Ya=Object(l["a"])("claims"),Za=Ya.mapState,en=Ya.mapMutations,tn={props:{showCancelBtn:{type:Boolean,default:!1}},name:"apply1",components:{applicantForm:S,patientForm:kt,AgreeNotice:Lt,Signature:qt["a"],FormReplace:Ht,AccountForm:Wa},data:function(){var e=this.$route.query,t=e.docuno,a=(e.unionId,e.hCode,e.accidentCustomerNo,e.accidentName),n=e.adultFlag;return{docuno:t,accidentName:a,adultFlag:n,active:1,showPreClaimDialog:!1,dialogList:[],applyCheck:null,applyForm:null,step:0,docunoData:null,isFromWXXCX:!!this.$route.query.mpnative,islistenChange:!1,istreamentChange:!1,istreamentstatuschange:!1,accountList:[],docunoRadio:9999,showBlack:!1}},computed:Object(r["a"])(Object(r["a"])({},Za(["patientInfo","applyInfo","isAdultPerson","dateStr","treatmentState","isMount","accidentCustomerNo","hCode"])),{},{isProxy:function(){var e=this.applyInfo.customerNo===this.patientInfo.accidentCustomerNo;return!e&&this.isAdultPerson}}),watch:{"applyInfo.applyCustomerNo":{handler:function(e){e&&(this.docuno&&this.isRequired||this.queryClaimHisAccountInfo())}},currency:{handler:function(e){e&&(this.clearBankCardsData(),this.queryClaimHisAccountInfo())}}},mounted:function(){var e;this.$sensors.track("page_view",{page_url:window.location.href,page_name:"理赔信息填写页",agent_code:this.$route.query.hCode||Object(y["g"])(),channel_code:"EKB-MINI",customer_no:this.$route.query.applyCustomerNo||Object(y["e"])(),report_no:(null===(e=this.$route.query)||void 0===e?void 0:e.docuno)||""})},beforeMount:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return document.title="在线理赔",e.$loading.show(),a={docuno:e.$route.query.docuno,applyCustomerNo:e.$route.query.applyCustomerNo},t.next=5,e.initCache(a).finally((function(){return e.$loading.hide()}));case 5:e.docunoData=e.$store.state.claims,e.queryClaimHisAccountInfo(),e.applyForm=e.$refs.applyForm;case 8:case"end":return t.stop()}}),t)})))()},methods:Object(r["a"])(Object(r["a"])({},en(["setAccountName","setIsMount","setLocalBcInfo"])),{},{backReload:function(){document.title="在线理赔",this.active=1,location.reload()},back:function(){document.title="在线理赔",this.active=1,this.step=0},changelistenLast:function(){this.islistenChange=!1},changetreamentLast:function(){this.istreamentChange=!1},changetreamentStatusLast:function(){this.istreamentstatuschange=!1},setStor:function(e,t){this.setAccountName(e.payeeName),this.setCurrency(e.payeeCurrency),this.setCurrencyName(e.payeeCurrencyName),this.setBankName(e.bankName),this.setBankNameId(e.bankType),this.setBankNo(e.bankCode),e.swiftCode?this.setBankInfo({countryFcode:e.payeeCountry,countryCnm:e.payeeCountryName,swiftCode:e.swiftCode,bankAddress:e.bankAddress}):this.setBankInfo(null),this.setProvinceName(e.bankProviceName),this.setProvinceCode(e.bankProvice),this.setTmsCode(e.tmsCode),this.setBankCardNo(e.payeeAccount),this.setReceiverAddress(e.payeeAddr),this.setEncryptionData(t)},queryClaimHisAccountInfo:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n,o,i,c,s,r,l,d,p,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.docuno||e.clearBankCardsData(),n=null,o=e.$route.query.applyCustomerNo,i=e.$route.query.accidentCustomerNo,!(null!==(a=e.applyInfo)&&void 0!==a&&a.applyCustomerNo||o)){t.next=15;break}return t.prev=5,t.next=8,Object(u["L"])({accidentCustomerNo:i||(null===(c=e.patientInfo)||void 0===c?void 0:c.accidentCustomerNo)||Object(y["c"])(),payeeCurrency:e.currency,applyCustomerNo:o||(null===(s=e.applyInfo)||void 0===s?void 0:s.applyCustomerNo)||Object(y["e"])(),c:"MINI-EKB"});case 8:n=t.sent,n&&(e.accountList=n),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](5);case 15:if(!e.docuno){t.next=19;break}n&&n.length>0?(r=n.findIndex((function(t){return t.claimHisAccountRecordRespDto.payeeAccount==e.bankCardNo})),l=n.find((function(t){return t.claimHisAccountRecordRespDto.payeeAccount==e.bankCardNo})),e.docunoRadio=l?r:9999):e.docunoRadio=9999,t.next=25;break;case 19:if(d=e.$store.state.claims.localBcInfo,!d||!d.isDone){t.next=24;break}return p=d,e.setStor(p,""),t.abrupt("return");case 24:n&&n.length>0&&(e.docunoRadio=0,n[0].encryptionData&&e.setEncryptionData(n[0].encryptionData),m=n[0].claimHisAccountRecordRespDto,m.payeeName&&e.setAccountName(m.payeeName),m.payeeCurrency&&e.setCurrency(m.payeeCurrency),m.payeeCurrencyName&&e.setCurrencyName(m.payeeCurrencyName),m.bankName&&e.setBankName(m.bankName),m.bankType&&e.setBankNameId(m.bankType),m.bankCode&&e.setBankNo(m.bankCode),m.swiftCode&&e.setBankInfo({countryFcode:m.payeeCountry,countryCnm:m.payeeCountryName,swiftCode:m.swiftCode,bankAddress:m.bankAddress}),m.bankProviceName&&e.setProvinceName(m.bankProviceName),m.bankProvice&&e.setProvinceCode(m.bankProvice),m.tmsCode&&e.setTmsCode(m.tmsCode),m.payeeAccount&&e.setBankCardNo(m.payeeAccount),m.payeeAddr&&e.setReceiverAddress(m.payeeAddr));case 25:case"end":return t.stop()}}),t,null,[[5,12]])})))()},clearBankCardsData:function(){this.setBankName(""),this.setBankNameId(""),this.setBankNo(""),this.setAccountName(""),this.setBankCardNo(""),this.setEncryptionData(""),this.setBankInfo(null),this.setReceiverAddress(""),this.setTmsCode(""),this.setProvinceName(""),this.setProvinceCode("")},getRecentApply:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["U"])();case 2:a=t.sent,a&&(a.phone&&e.setPhone(a.phone),a.email&&e.setEmail(a.email));case 4:case"end":return t.stop()}}),t)})))()},checkHospital:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null===(a=e.hospital)||void 0===a||!a.hospitalId||!e.patientInfo){t.next=6;break}return n={hospitalCode:e.hospital.hospitalId,accidentCustomerNo:e.patientInfo.accidentCustomerNo},t.next=4,Object(u["j"])(n);case 4:o=t.sent,e.setIsEClaim(o.flag);case 6:case"end":return t.stop()}}),t)})))()},getDialogList:function(){var e="·代办理赔申请",t="·代为领取保险理赔金",a=this.accountName,n=this.applyInfo,o=this.patientInfo;return n.customerNo===o.accidentCustomerNo?n.name===a?[]:[t]:o.anAdult?a==o.name?[e]:[e,t]:(n.name,[])},onPrePage:function(){return this.$route.query.formPage?void this.$router.push({path:"/claim/v3/detail",query:{docuno:this.docuno,isDirect:"N",step:"report",hCode:this.$store.state.claims.hCode||Object(y["g"])(),applyCustomerNo:this.$store.state.claims.applyInfo.applyCustomerNo||Object(y["e"])(),accidentCustomerNo:this.$store.state.claims.patientInfo.accidentCustomerNo,accidentCustomerName:this.$store.state.claims.patientInfo.accidentCustomerName,adultFlag:this.$store.state.claims.isAdultPerson||Object(y["i"])(),unionId:this.unionId||Object(y["n"])(),token:Object(y["a"])(),source:this.$route.query.source}}):void this.gotoApplByInfo(this.docuno,!1)},onPreStep:function(){this.step=1},onSubmit:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,o,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.$sensors.track("page_click",{page_url:window.location.href,page_name:"理赔信息填写页",agent_code:t.$route.query.hCode||Object(y["g"])(),channel_code:"EKB-MINI",customer_no:t.$route.query.ApplyCustomerNo||Object(y["e"])()||t.applyInfo.applyCustomerNo,report_no:(null===(n=t.$route.query)||void 0===n?void 0:n.docuno)||"",module_name:"报案",element_name:"确认提交"}),!t.applyCheck||t.applyCheck.passFlag){a.next=4;break}return t.$toast(t.applyCheck.reason),a.abrupt("return");case 4:if(t.docuno){a.next=17;break}return o={accidentCustomerNo:t.patientInfo.accidentCustomerNo,applyCustomerNo:t.applyInfo.applyCustomerNo},a.next=8,Object(u["i"])(o);case 8:if(i=a.sent,"200"!==i.code){a.next=16;break}if(c=i.data,!c||c.passFlag){a.next=14;break}return t.$dialog.confirm({title:"该就诊人存在已报案未提交材料的赔案",message:"1、如历史案件为客户自行报案，则请指导就诊人前往平安健康保险微信小程序完成后续理赔申请操作;\n2、如历史案件为您代为报案，则请前往好助手-理赔记录完成该案件的后续操作",confirmButtonText:"确定",showCancelButton:!1,messageAlign:"left"}).then((function(){})).catch((function(e){})),a.abrupt("return");case 14:a.next=17;break;case 16:t.$toast(i.message);case 17:if(e.accidentTypeName&&e.treamentTypeName){a.next=20;break}return t.$toast("就诊日期有误，请重新选择"),a.abrupt("return");case 20:if(e.agree){a.next=23;break}return t.$toast("请勾选同意服务协议"),a.abrupt("return");case 23:t.submitAccount(e,(function(e){t.onSubmitApplyInfo(e)}));case 24:case"end":return a.stop()}}),a)})))()},onSubmitApplyInfo:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.onSubmitApply();case 1:case"end":return e.stop()}}),e)})))()},toProxy:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="你正在尝试代成年人就诊人申请理赔，需要就诊人授权后，才可继续申请提交理赔",t.next=3,e.$dialog.confirm({message:a,confirmButtonText:"开始授权",cancelButtonText:"返回修改",confirmButtonColor:e.$root.primaryColor});case 3:e.$emit("submit");case 4:case"end":return t.stop()}}),t)})))()},toPreProxy:function(){this.$emit("submit")},onSubmitApply:function(){var e=this;this.active=3,this.docuno?this.onUpdateData(this.docuno,(function(t){t||(e.active=1)})):this.submitApply1((function(t){t||(e.active=1)}))},preClaimCheckIO:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={entryDate:e.dateStr,foreignCase:"zh_CN",applyType:"02",preComFlag:"Y",customerNo:e.patientInfo.accidentCustomerNo},t.next=3,Object(u["G"])(a);case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))()},queryBankNoIO:function(e,t,a){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["K"])({bankType:n.bankNameId,provinceName:n.provinceName,tmsCode:n.tmsCode||"0100",systemCode:"MCORE"});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))()},submitAccount:function(e,t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var o,i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a.isRequired){n.next=2;break}return n.abrupt("return",t(e));case 2:if(a.bankCardNo&&a.accountName&&a.bankNameId&&a.bankName){n.next=5;break}return a.$toast("请您添加银行卡或完善所选银行卡信息"),n.abrupt("return");case 5:if("人民币"!==a.currencyName){n.next=11;break}if(a.provinceName&&a.provinceCode){n.next=9;break}return a.$toast("请您添加银行卡或完善所选银行卡信息"),n.abrupt("return");case 9:n.next=14;break;case 11:if(a.bankInfo.swiftCode&&a.receiverAddress){n.next=14;break}return a.$toast("请您添加银行卡或完善所选银行卡信息"),n.abrupt("return");case 14:return i={accidentCustomerNo:null===(o=a.patientInfo)||void 0===o?void 0:o.accidentCustomerNo,clientName:a.accountName,bankAccountNo:a.bankCardNo,c:"EKB-MINI",applyCustomerNo:a.applyInfo.applyCustomerNo,encryptionData:a.encryptionData},a.$loading.show(),n.next=18,Object(u["h"])(i);case 18:if(c=n.sent,a.$loading.hide(),!c||!c.passFlag){n.next=31;break}if(a.$loading.hide(),"Y"===c.passFlag){n.next=28;break}return n.next=25,a.$dialog.confirm({title:"温馨提示",message:"".concat(c.reason?c.reason:"您的账户校验不通过","，是否坚持提交理赔申请？")});case 25:t(e),n.next=29;break;case 28:t(e);case 29:n.next=32;break;case 31:t(e);case 32:case"end":return n.stop()}}),n)})))()},scrolling:function(e){document.querySelector(".container").scrollTo({top:e,behavior:"smooth"})},watchScroll:function(){var e=this,t=document.getElementById("scroll-container");t.addEventListener("scroll",(function(){var a=t.clientHeight,n=t.scrollTop,o=t.scrollHeight;a+n>=o&&(e.step=1)}))},onFailed:function(e){""===e.values.accidentTypeName&&(this.islistenChange=!0),""===e.values.treamentTypeName?this.istreamentChange=!0:"门诊"!=e.values.treamentTypeName&&""===e.values.accidentStatusName&&(this.istreamentstatuschange=!0),this.$toast("请完善必填信息"),""!==e.values.applyName&&""!==e.values.applyPhone?""!==e.values.applyEmail?""!==e.values.patient?""!==e.values.date?""!==e.values.hospitalName?""!==e.values.accidentTypeName?""!==e.values.treamentTypeName?"住院"==e.values.treamentTypeName||""!==e.values.accidentStatusName||this.scrolling(340):this.scrolling(330):this.scrolling(300):this.scrolling(260):this.scrolling(190):this.scrolling(142):this.scrolling(108):this.scrolling(0)},onApplyCheck:function(e){this.applyCheck=e}})},an=tn,nn=(a("4ae0"),Object(N["a"])(an,c,s,!1,null,"3ab763ec",null)),on=nn.exports,cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrap"},[1===e.active?n("van-form",{on:{submit:e.nextStep}},[n("van-field",{staticStyle:{"flex-direction":"column"},attrs:{name:"patientIdCardPhoto",label:"请就诊人手持身份证进行拍照认证",center:!0,rules:[{required:!0,message:"请上传就诊人手持身份证照片"},{validator:e.validatorUploading,message:"正在上传中"},{validator:e.validatorError,message:"上传出错"}],"error-message-align":"center"},scopedSlots:e._u([{key:"label",fn:function(){return[n("div",{staticStyle:{margin:"20px 0"}},[e._v("请就诊人手持身份证进行拍照认证")])]},proxy:!0},{key:"input",fn:function(){return[n("van-uploader",{staticClass:"idCardUploader",attrs:{"max-count":1,"max-size":5242880,accept:"image/jpeg,image/png","after-read":e.afterRead,"before-read":e.beforeRead},on:{oversize:e.onOversize},model:{value:e.uploader,callback:function(t){e.uploader=t},expression:"uploader"}},[n("div",[n("img",{staticStyle:{height:"200px","vertical-align":"top"},attrs:{src:a("6f2b")}})])])]},proxy:!0}],null,!1,2640424938)}),n("div",{staticStyle:{margin:"16px",display:"flex"}},[n("van-button",{staticStyle:{"margin-right":"16px"},attrs:{plain:"",color:e.$root.primaryColor,round:"",block:"","native-type":"button"},on:{click:e.prePage}},[e._v("返回")]),n("van-button",{attrs:{type:"info","native-type":"submit",color:e.$root.primaryColor,round:"",block:""}},[e._v("下一步")])],1)],1):e._e(),2===e.active?n("Signature",{key:1,attrs:{index:1},on:{submit:e.patientSignCallback,cancle:function(t){return e.back()}}}):e._e(),3===e.active?n("Signature",{key:2,attrs:{index:0},on:{submit:e.onSubmit,cancle:function(t){return e.back()}}}):e._e(),4===e.active?n("FormReplace"):e._e()],1)},sn=[],rn=(a("159b"),Object(l["a"])("claims")),ln=rn.mapMutations,un=rn.mapState;function dn(e){return pn.apply(this,arguments)}function pn(){return pn=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["x"])([t]);case 2:return a=e.sent,e.abrupt("return",(Array.isArray(a)&&a.length)>0?a[0]:a);case 4:case"end":return e.stop()}}),e)}))),pn.apply(this,arguments)}var mn={name:"proxy",props:["stepIndex"],mixins:[La["b"]],components:{Signature:qt["a"],FormReplace:Ht},data:function(){var e=this.$store.state.claims["idCardUploader"]||[];return e.forEach(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,dn(t.originUrl);case 2:t.url=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),{active:1,uploader:e,checkbox:!1,docuno:this.$route.query.docuno}},computed:Object(r["a"])({},un(["patientInfo","applyInfo"])),mounted:function(){document.title="就诊人授权",3===this.stepIndex&&(this.active=3)},watch:{uploader:{handler:function(e){var t={name:"idCardUploader",val:e};this.setMoreState(t)},deep:!0}},methods:Object(r["a"])(Object(r["a"])({},ln(["setMoreState"])),{},{back:function(){1===this.stepIndex?(this.active=1,document.title="就诊人授权"):this.$emit("back")},patientSignCallback:function(){this.active=1,this.isPreClaim?this.$emit("submit"):this.active=3},onSubmit:function(){var e=this;if(1===this.stepIndex?(this.active=1,document.title="就诊人授权"):(this.active=4,document.title="在线理赔"),this.docuno){var t=Array.isArray(this.idCardUploader)&&this.idCardUploader.length>0?this.idCardUploader[0].originUrl:void 0;try{this.$loading.show(),Object(u["n"])({docuno:this.docuno,applyCustomerNo:this.applyInfo.customerNo,accidentCustomerNo:this.patientInfo.customerNo,applySignature:window.applySignature,applySignatureBusinessId:window.applySignatureBusinessId,applySignatureImage:window.applySignatureImage,accidentSignatureImage:window.accidentSignatureImage,accidentSignature:window.accidentSignature,accidentSignatureBusinessId:window.accidentSignatureBusinessId,accidentAuthorizedImage:t}).finally((function(){e.$loading.hide()}))}catch(a){this.$toast(a),location.reload()}this.gotoApplByInfoCom(this.docuno)}else this.submitApply1((function(t){t||e.$emit("back")}))},prePage:function(){this.$emit("back")},onOversize:function(e){this.$toast("文件大小不能超过 5M")},validatorUploading:function(e){var t=e.every((function(e){return"uploading"!=e.status}));return t},validatorError:function(e){var t=e.every((function(e){return"failed"!=e.status}));return t},nextStep:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isPreClaim||e.docuno){t.next=10;break}return a={accidentCustomerNo:e.patientInfo.customerNo},t.next=4,Object(u["i"])(a);case 4:if(n=t.sent,!n||n.passFlag){t.next=10;break}return t.next=8,e.$dialog.confirm({message:n.reason,confirmButtonText:"01"==n.reasonType?"继续上次报案":"查询案件详情"});case 8:return e.isPreClaim?e.$router.push({path:"/claim/new/records/pre",query:{docuno:n.docuno}}):e.$router.push({path:"/claim/v3/records",query:{docuno:n.docuno},source:e.$route.query.source}),t.abrupt("return");case 10:e.active=2;case 11:case"end":return t.stop()}}),t)})))()}})},hn=mn,vn=(a("d5d8"),a("78bc"),Object(N["a"])(hn,cn,sn,!1,null,"6e4b18be",null)),fn=vn.exports,yn=(a("ed08"),a("4360"),{name:"report",components:{Apply:on,Proxy:fn},data:function(){return{active:1,stepIndex:1,docunoData:null}},mounted:function(){},methods:{judge:function(e){var t=e||this.docunoData,a=t.isAdultPerson,n=t.isPassOneYear,o=t.applyCustomerNo,i=t.accidentCustomerNo,c=t.applySignatureBusinessId,s="edit";if(!c){var r=o==i,l=!r&&a;s=l&&n?"proxy":"apply"}return s},onSubmit1:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e&&t.gotoApplByInfo(e.docuno,!0);case 1:case"end":return a.stop()}}),a)})))()},onBack2:function(){document.title="在线理赔",this.active=1}}}),bn=yn,kn=Object(N["a"])(bn,n,o,!1,null,"08925390",null);t["default"]=kn.exports},c0f4:function(e,t,a){"use strict";a("a372")},c3bc:function(e,t,a){"use strict";a("efcc")},c98f:function(e,t,a){"use strict";a("8c68")},c9d9:function(e,t,a){"use strict";a("faef")},cda3:function(e,t,a){"use strict";a("7bb3")},d323:function(e,t,a){},d572:function(e,t,a){"use strict";a("1d76")},d5d8:function(e,t,a){"use strict";a("b765")},d962:function(e,t,a){"use strict";a("517e")},decb:function(e,t){e.exports="data:image/png;base64,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"},e11e:function(e,t,a){"use strict";a("73c0")},e344:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAAEEfUpiAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACPTkDJAAADQklEQVRYCe1WS2sTURQ+Z1K1nWl8NVarG/0Dim5EbLWiICi4qHWt1JWQtIpQVCoWsRRthdJYcaFYwddO8LHThQqiRfG5FCy+WosiSpPamuT43ZtOnCQzY9JWQejA5N57Ht937jnn3gyR1yNhM6V0hvrBYozYqFdzHheIGv0fiVjPvS0AKur1tID7ZWmyNucZpD2Da/MUSgBlCm+/q3JqhRIxRz13gOg7FR0MPti0OndaGJk/m0pHTRqRAT4Vz8h1trU1j/bkKm0UPXrxpssTsQZJZKHTw0njlE98ju0n8Z4pGgGpeQnHd8oR4w9ptA4WBCKRYI29cTgdx1w3aa5zJp9OhXY0AnVUOus2xePfqYQWc1d8wGnjOc+wqpJHrIuehtOK4jIgYeuASi6evKr9Pg0emNIUrEYLteOaaqOIldcLvgDSHApSMnmfyriKSviWG4cvgG4iNraTZQ5TIvmATHOJG4irDH2Pu8O6pJR6/+HyHa6GbkI4voLTW+2cBrriZucqQ/uehLNOlvMkuhrnCuGwQoWr5Jh32kC5ds51Vl2l0ewh4VIy+AIlU3cLuZayqyCBq7jbGpQzBXiRk+mvzbO34PenZYfA/ImjsX8Tnc35n42yPxiSfRUFn5msIkxmr2jcXWih81kYbBzj6PDhLFnOIrsPc5SFLGXv3KUgH9LkTH0UqiyjaAy4fI8k1YJz3euHM+EApLXVAPFNSoy9AbmFr7hVHI2vpq/fKilSPojDvA7Ej2nGvD1+AUyoBLjqGkjonAY2qIW7420qIPp84hpk2xDMCN4ayJ/4kStdUQFIeM4y4kQfdhyC7yOku5Zb+9X3xk5KSa8CBOIRZOKonhfwU1AA6d113EBat4Aghnuqmrtiz1T9KflTBbQA8j6qqFyvAiqAN2PyxwBwJe+G9VntYfAh7o6164C+dFwH8VbI4yCvxq6fZlCLmPgGoL7KkNpmYgZ41RqOvsb3Un79i+DLMy3JkzgFQoHxZRnJxy50fb2uP9NDpHtDsel2Qttz3wwoI9lbXkuJVB3+5Ex02HuaSae5c3jIBpjs6BkAUr0SqV8+WQLtL/LCq0d8SsAdqP/GKQmA+Q5wNk0J1jTIVGfgFyc7Rl8/2vFaAAAAAElFTkSuQmCC"},e73c:function(e,t,a){"use strict";a("babe")},eb02:function(e,t,a){},efcc:function(e,t,a){},f06d:function(e,t,a){"use strict";a("eb02")},f989:function(e,t,a){"use strict";a("610d")},f9ce:function(e,t,a){"use strict";a("97f3")},faef:function(e,t,a){}}]);